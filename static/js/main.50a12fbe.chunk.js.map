{"version":3,"sources":["components/SmsList.tsx","components/AppShell/AppBar.tsx","routes.ts","components/AppShell/DrawerItem.tsx","components/AppShell/AppDrawer.tsx","components/AppShell/Toolbars/PageTitle.tsx","components/AppShell/Toolbars/LeftIconButton.tsx","components/AppShell/Toolbars/DeadEndToolbar.tsx","utils/getUpperCaseInitial.ts","components/ExpandableListTile.tsx","components/AppShell/Toolbars/EmployeeInfoToolbar.tsx","components/AppShell/Toolbars/FormToolbar.tsx","components/AppShell/Toolbars/DrawerToolbar.tsx","db/db.ts","utils/exportToCSV.ts","components/CenteredSpinner.tsx","components/NotFound.tsx","screens/SmsLog/SmsLog.tsx","screens/EmployeeList/EmployeeListItem.tsx","screens/EmployeeList/EmployeeList.tsx","screens/EmployeeInfo/View.tsx","screens/EmployeeInfo/EmployeeInfo.tsx","screens/EmployeeForm/validation.ts","styles/mixins.ts","components/WorkHourPicker.tsx","screens/EmployeeForm/EmployeeFormView.tsx","screens/EmployeeForm/EmployeeForm.tsx","screens/EmployerForm/validation.ts","screens/EmployerForm/View.tsx","screens/EmployerForm/EmployerForm.tsx","screens/E8Form/CancelSubmitionInfoCard.tsx","screens/E8Form/BottomMessageTile.tsx","screens/E8Form/NewSubmition.tsx","screens/E8Form/E8FormView.tsx","utils/roundDate.ts","screens/E8Form/E8Form.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["withStyles","aproved","color","declined","props","smsList","getKey","key","generateKey","react_default","a","createElement","List_default","map","sms","ListItem_default","button","ListItemAvatar_default","approved","Sms_default","Error_default","ListItemText_default","primary","format","dateSent","concat","overtimeStart","overtimeFinish","secondary","employee","name","AppBar","AppBar_default","Object","assign","position","routes","EMPLOYEE_LIST","EMPLOYEE_INFO","EMPLOYEE_FORM","SMS_LOG","E8FORM","EMPLOYER_FORM","colorType","theme","createStyles","selectedText","fontWeight","selectedTile","&:before","content","left","top","bottom","width","spacing","unit","backgroundColor","palette","main","&:after","right","borderRadius","zIndex","selected","itemText","icon","classes","rest","objectWithoutProperties","className","undefined","ListItemIcon_default","People_default","Email_default","pickIcon","primaryTypographyProps","LinkToSmsLog","react_router_dom","to","LinkToEmployeeList","LinkToEmployerForm","list","title","text","employerListTile","subitoTitle","marginLeft","marginBottom","marginTop","header","height","padding","display","flexDirection","justifyContent","alignItems","withRouter","isOpen","toggleOpen","location","employer","sideList","pathname","Typography_default","variant","noWrap","Fragment","vat","ame","Divider_default","light","component","subheader","ListSubheader_default","disableSticky","AppShell_DrawerItem","Settings_default","SwipeableDrawer_default","open","onOpen","onClose","tabIndex","role","onClick","onKeyDown","pageTitle","flex","overflow","whiteSpace","textOverflow","_ref","align","buttonMargin","marginRight","IconButton_default","DeadEndToolbar","onGoBack","children","Toolbar_default","Toolbars_LeftIconButton","aria-label","ArrowBack_default","Toolbars_PageTitle","toUpperCaseInitial","letter","initial","trimStart","Ά","Έ","Ή","Ί","Ό","Ύ","Ώ","Ϊ","ΐ","Ϋ","ΰ","toUpperCase","transition","rotate","transform","panel","fontSize","goBack","expanded","_useState","useState","_useState2","slicedToArray","isExpanded","setIsExpanded","toggleExpand","employeeFiller","workStart","setHours","setMinutes","Date","workFinish","style","Avatar_default","Person_default","Collapse_default","in","ListItemSecondaryAction_default","ExpandMore_default","listItem","paddingLeft","paddingRight","mainToolbar","secondaryToolbar","flexWrap","rightIcon","onDelete","components_ExpandableListTile","FormToolbar","onSubmit","onCancel","Close_default","Button_default","size","DrawerToolbar","onOpenDrawer","secondaryActions","Menu_default","dexieDb","LocalDb","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","version","stores","table","Dexie","exportToCsvSmsList","options","length","data","Υπάλληλος","ΑΦΜ","Έναρξη υπερωρίας","Λήξη υπερωρίας","Ημερομηνία αποστολής","Δεκτή απο Εργάνη","ExportToCsv","objectSpread","fieldSeparator","quoteStrings","decimalSeparator","showLabels","showTitle","filename","useTextFile","useBom","useKeysAsHeaders","generateCsv","spinner","CircularProgress_default","grey","root","message","SentimentDissatisfied_default","SmsLog","history","setSmsList","_useState3","_useState4","isLoading","setIsLoading","useEffect","_fetchSmsList","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","toArray","sent","t0","console","log","stop","apply","arguments","fetchSmsList","AppShell_AppBar","Toolbars_DeadEndToolbar","components_CenteredSpinner","Fade_default","components_NotFound","SmsList","Fab_default","margin","SaveAlt_default","blue","onSecondaryAction","id","aria-owns","aria-haspopup","MoreVert_default","paddingBottom","fab","fabContainer","@keyframes growAnimation","from","@keyframes fabGrowAnimation","fabGrow","animation","onTopOfGrow","grow","drawerState","setDrawerState","toggleDrawerState","toggleLoading","_useState5","_useState6","employees","setEmployees","_useState7","_useState8","setEmployer","_useState9","_useState10","anchorEl","setAnchorEl","_useState11","_useState12","targettedEmployeeId","setTargettedEmployeeId","_useState13","_useState14","deletedEmployee","setDeletedEmployee","handleCloseMenu","_fetchEmployees","db","toCollection","fetchEmployees","_fetchEmployer","_callee2","_context2","last","fetchEmployer","handleDelete","_callee3","toDelete","_context3","abrupt","get","delete","Toolbars_DrawerToolbar","AppShell_AppDrawer","PersonAdd_default","e","EmployeeList_EmployeeListItem","event","currentTarget","core_Menu_default","MenuItem_default","NavigateNext_default","isFetchingEmployee","EmployeeInfoToolbar","isFetchingSms","handleExportCSV","EmployeeInfo","match","setEmployee","setIsFetchingEmployee","setIsFetchingSms","_fetchEmployee","employeeID","params","parseInt","fetchEmployee","where","equals","EmployeeInfo_View","isNumeric","getEmptyErrors","validateOnSubmit","values","errors","test","stickyTopWithAppbar","_stickyTopWithAppbar","defineProperty","timeWrapper","justifyItems","flexGrow","timeInput","textAlign","minWidth","timeArrow","valueStart","valueFinish","onChangeStart","onChangeFinish","errorStart","errorFinish","labelStart","errorLabelStart","labelFinish","errorLabelFinish","material_ui_pickers_esm","label","error","value","showTodayButton","onChange","todayLabel","ampm","minutesStep","InputProps","ArrowForward_default","maxWidth","&:not(:first-child)","listHeader","background","default","textField","handleChange","setWorkStart","setWorkFinish","handleSubmit","Toolbars_FormToolbar","AccountCircle_default","TextField_default","Work_default","type","components_WorkHourPicker","date","setErrors","setValues","addHours","theErrors","preventDefault","reduce","acc","val","put","_x","EmployeeForm_EmployeeFormView","valueName","target","currentValues","currentErrors","validateOnChange","validateInput","formValues","smsNumber","infoTileWrapper","infoTile","border","divider","WorkOutline_default","Phone_default","dense","InfoOutlined_default","EmployerForm","initialValues","validationErrors","EmployerForm_View","clearedErrors","newValues","formControl","smallHeader","actions","Card_default","CardContent_default","gutterBottom","timeout","unmountOnExit","paragraph","CardActions_default","messageTile","sendButton","fileButton","erganiCode","overflowX","messageContainer","copyToClipboard","navigator","clipboard","writeText","alert","isNewSubmition","isError","Paper_default","FileCopyOutlined_default","handleSubmitSms","disabled","aProps","href","Send_default","chip","chipsForm","durationLabel","handleChangeDuration","handleChangeOvertimeStart","handleChangeOvertimeFinish","durationOptions","FormControl_default","FormLabel_default","option","Chip_default","duration","section","addSettingsButton","submitionType","selectSubmitionType","isFetchingEmployer","setIsError","RadioGroup_default","FormControlLabel_default","control","Radio_default","E8Form_NewSubmition","E8Form_CancelSubmitionInfoCard","index_es","E8Form_BottomMessageTile","roundDateMinute","mins","getMinutes","addMinutes","E8Form","setIsFetchingEmployer","setOvertimeStart","setOvertimeFinish","setSubmitType","_useState15","_useState16","setDurationLabel","_useState17","_useState18","_employer","_employee","employeeOvertimeStart","workFinishHours","workFinishMinutes","initialOvertimeStart","getHours","isAfter","validate","now","differenceInMinutes","E8Form_E8FormView","join","durOpt","find","el","createMuiTheme","typography","useNextVariants","App","MuiThemeProvider_default","CssBaseline_default","utils","DateFnsUtils","basename","react_router","path","EmployeeList","EmployeeForm","isLocalhost","Boolean","window","hostname","registerValidSW","swUrl","config","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","onUpdate","onSuccess","catch","ReactDOM","render","src_App","document","getElementById","URL","process","origin","addEventListener","fetch","response","contentType","headers","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.50a12fbe.chunk.js","sourcesContent":["import React, { FC } from 'react';\r\nimport { withStyles, WithStyles } from '@material-ui/core/styles';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport SmsIcon from '@material-ui/icons/Sms';\r\nimport { format } from 'date-fns';\r\nimport { IE8Sms } from '../interfaces/IE8Sms';\r\nimport ErrorIcon from '@material-ui/icons/Error';\r\n\r\ninterface IProps extends WithStyles<typeof styles> {\r\n  smsList?: IE8Sms[];\r\n}\r\nfunction generateKey() {\r\n  let key = 0;\r\n  return () => key++;\r\n}\r\nconst EmployeeInfo: FC<IProps> = props => {\r\n  const { smsList } = props;\r\n\r\n  const getKey = generateKey();\r\n  return (\r\n    <List>\r\n      {smsList &&\r\n        smsList.map(sms => (\r\n          <ListItem button key={getKey()}>\r\n            <ListItemAvatar>\r\n              {sms.approved ? <SmsIcon color=\"primary\" /> : <ErrorIcon color=\"error\" />}\r\n            </ListItemAvatar>\r\n            <ListItemText\r\n              primary={\r\n                format(sms.dateSent, 'dd/MM/yyyy') +\r\n                `  [${format(sms.overtimeStart, 'HH:mm')} - ${format(\r\n                  sms.overtimeFinish,\r\n                  'HH:mm',\r\n                )}]`\r\n              }\r\n              secondary={sms.employee.name}\r\n            />\r\n          </ListItem>\r\n        ))}\r\n    </List>\r\n  );\r\n};\r\n\r\nconst styles = {\r\n  aproved: {\r\n    color: 'green',\r\n  },\r\n  declined: {\r\n    color: 'orange',\r\n  },\r\n};\r\n\r\nexport default withStyles(styles)(EmployeeInfo);\r\n","import React, { FC, ComponentProps } from 'react';\r\nimport { default as MuiAppBar } from '@material-ui/core/AppBar';\r\n\r\ntype Props = ComponentProps<typeof MuiAppBar>;\r\nconst AppBar: FC<Props> = props => (\r\n  <MuiAppBar position=\"sticky\" color=\"default\" {...props} />\r\n);\r\n\r\nexport default AppBar;\r\n","export const routes = {\r\n  EMPLOYEE_LIST: '/employeeList',\r\n  EMPLOYEE_INFO: '/employeeInfo',\r\n  EMPLOYEE_FORM: '/employeeForm',\r\n  SMS_LOG: '/smsLog',\r\n  E8FORM: '/e8Form',\r\n  EMPLOYER_FORM: '/employerForm',\r\n};\r\n","import React, { FC, ComponentPropsWithRef } from 'react';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport PeopleIcon from '@material-ui/icons/People';\r\nimport MailsIcon from '@material-ui/icons/Email';\r\nimport { withStyles, Theme, createStyles, WithStyles } from '@material-ui/core/styles';\r\n\r\ninterface IProps extends WithStyles<typeof styles> {\r\n  selected?: boolean;\r\n  itemText?: string;\r\n  icon?: 'people' | 'messages';\r\n}\r\ntype Props = IProps & ComponentPropsWithRef<typeof ListItem>;\r\nconst colorType: 'primary' | 'secondary' = 'primary';\r\nconst DrawerItem: FC<Props> = props => {\r\n  const { selected, itemText, icon, classes, ...rest } = props;\r\n  function pickIcon() {\r\n    switch (icon) {\r\n      case 'people':\r\n        return <PeopleIcon color={selected ? colorType : 'inherit'} />;\r\n      case 'messages':\r\n        return <MailsIcon color={selected ? colorType : 'inherit'} />;\r\n      default:\r\n        return <MailsIcon color={selected ? colorType : 'inherit'} />;\r\n    }\r\n  }\r\n  return (\r\n    <ListItem\r\n      button\r\n      // selected={selected}\r\n      className={selected ? classes.selectedTile : undefined}\r\n      {...rest}\r\n    >\r\n      <ListItemIcon>{pickIcon()}</ListItemIcon>\r\n      <ListItemText\r\n        primary={itemText}\r\n        primaryTypographyProps={\r\n          selected ? { color: colorType, className: classes.selectedText } : undefined\r\n        }\r\n      />\r\n    </ListItem>\r\n  );\r\n};\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    selectedText: {\r\n      fontWeight: 550,\r\n    },\r\n    selectedTile: {\r\n      position: 'relative',\r\n      '&:before': {\r\n        content: \"''\",\r\n        position: 'absolute',\r\n        left: 0,\r\n        top: 0,\r\n        bottom: 0,\r\n        width: theme.spacing.unit / 2,\r\n        backgroundColor: theme.palette[colorType].main,\r\n      },\r\n      '&:after': {\r\n        content: \"''\",\r\n        position: 'absolute',\r\n        left: 0,\r\n        top: 0,\r\n        bottom: 0,\r\n        right: theme.spacing.unit,\r\n        borderRadius: '0 10px 10px 0',\r\n        // borderRadius: '0 40px 40px 0',\r\n        // @ts-ignore\r\n        backgroundColor: colorType === 'primary' ? '#e3f2fd' : '#fce4ec',\r\n        zIndex: -1,\r\n      },\r\n    },\r\n  });\r\n\r\nexport default withStyles(styles)(DrawerItem);\r\n","import React, { FC } from 'react';\r\nimport { makeStyles, useTheme } from '@material-ui/styles';\r\nimport SwipeableDrawer from '@material-ui/core/SwipeableDrawer';\r\nimport Button from '@material-ui/core/Button';\r\nimport List from '@material-ui/core/List';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListSubheader from '@material-ui/core/ListSubheader';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport PersonIcon from '@material-ui/icons/Person';\r\nimport InboxIcon from '@material-ui/icons/MoveToInbox';\r\nimport MailIcon from '@material-ui/icons/Mail';\r\nimport PeopleIcon from '@material-ui/icons/People';\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\nimport { Link } from 'react-router-dom';\r\nimport { routes } from '../../routes';\r\nimport { withRouter, RouteComponentProps } from 'react-router';\r\nimport DrawerItem from './DrawerItem';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { withStyles, Theme, createStyles, WithStyles } from '@material-ui/core/styles';\r\nimport { IEmployer } from '../../interfaces';\r\n\r\nconst LinkToSmsLog = (props: any) => <Link to={routes.SMS_LOG} {...props} />;\r\nconst LinkToEmployeeInfo = (props: any) => <Link to={routes.EMPLOYEE_INFO} {...props} />;\r\nconst LinkToEmployeeForm = (props: any) => <Link to={routes.EMPLOYEE_FORM} {...props} />;\r\nconst LinkToEmployeeList = (props: any) => <Link to={routes.EMPLOYEE_LIST} {...props} />;\r\nconst LinkToE8Form = (props: any) => <Link to={routes.E8FORM} {...props} />;\r\nconst LinkToEmployerForm = (props: any) => <Link to={routes.EMPLOYER_FORM} {...props} />;\r\n\r\ninterface IProps extends WithStyles<typeof styles> {\r\n  toggleOpen: (e: any) => void;\r\n  isOpen: boolean;\r\n  employer?: IEmployer;\r\n}\r\nconst AppDrawer: FC<IProps & RouteComponentProps> = props => {\r\n  const { isOpen, toggleOpen, location, classes, employer } = props;\r\n\r\n  const empListSelected = location.pathname === routes.EMPLOYEE_LIST;\r\n  const selectedProps = { color: 'primary', style: { fontWeight: 550 } };\r\n  const sideList = (\r\n    <div className={classes.list}>\r\n      <Typography variant=\"h4\" noWrap color=\"primary\" className={classes.subitoTitle}>\r\n        Subito E8\r\n      </Typography>\r\n      {employer && (\r\n        <ListItem className={classes.employerListTile}>\r\n          <ListItemText\r\n            primary={employer.name}\r\n            secondary={\r\n              <>\r\n                <Typography color=\"textSecondary\">{`ΑΦΜ: ${employer.vat}`}</Typography>\r\n                {!!employer.ame && (\r\n                  <Typography color=\"textSecondary\">{`AME: ${employer.ame}`}</Typography>\r\n                )}\r\n              </>\r\n            }\r\n          />\r\n        </ListItem>\r\n      )}\r\n      <Divider light />\r\n\r\n      <List\r\n        component=\"nav\"\r\n        subheader={\r\n          <ListSubheader disableSticky component=\"div\">\r\n            Πλοήγηση\r\n          </ListSubheader>\r\n        }\r\n      >\r\n        <DrawerItem\r\n          selected={location.pathname === routes.EMPLOYEE_LIST}\r\n          component={LinkToEmployeeList}\r\n          itemText=\"Υπάλληλοι\"\r\n          icon=\"people\"\r\n        />\r\n        <DrawerItem\r\n          selected={location.pathname === routes.SMS_LOG}\r\n          component={LinkToSmsLog}\r\n          itemText=\"Μηνύματα\"\r\n          icon=\"messages\"\r\n        />\r\n        {/* <Divider light variant=\"middle\" /> */}\r\n\r\n        <ListItem button component={LinkToEmployerForm}>\r\n          <ListItemIcon>\r\n            <SettingsIcon color=\"inherit\" />\r\n          </ListItemIcon>\r\n          <ListItemText primary=\"Ρυθμίσεις\" />\r\n        </ListItem>\r\n      </List>\r\n\r\n      {/* <List\r\n        component=\"nav\"\r\n        subheader={\r\n          <ListSubheader disableSticky component=\"div\">\r\n            Πληροφορίες\r\n          </ListSubheader>\r\n        }\r\n      >\r\n\r\n        <ListItem button component={LinkToEmployeeInfo}>\r\n          <ListItemText primary=\"EmployeeInfo\" />\r\n        </ListItem>\r\n        <ListItem button component={LinkToEmployeeForm}>\r\n          <ListItemText primary=\"EmployeeForm\" />\r\n        </ListItem>\r\n        <ListItem button component={LinkToE8Form}>\r\n          <ListItemText primary=\"E8Form\" />\r\n        </ListItem>\r\n      </List> */}\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <SwipeableDrawer open={isOpen} onOpen={toggleOpen} onClose={toggleOpen}>\r\n      <div tabIndex={0} role=\"button\" onClick={toggleOpen} onKeyDown={toggleOpen}>\r\n        {sideList}\r\n      </div>\r\n    </SwipeableDrawer>\r\n  );\r\n};\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    list: {\r\n      width: 250,\r\n    },\r\n    title: {\r\n      color: theme.palette.text.primary,\r\n      // color: theme.palette.primary.main,\r\n    },\r\n    employerListTile: {\r\n      // marginTop: theme.spacing.unit,\r\n      // marginBottom: theme.spacing.unit,\r\n    },\r\n    subitoTitle: {\r\n      marginLeft: theme.spacing.unit * 2,\r\n      marginBottom: theme.spacing.unit,\r\n      marginTop: theme.spacing.unit * 2,\r\n    },\r\n    header: {\r\n      // Styles\r\n      width: '100%',\r\n      height: '130px',\r\n      // backgroundColor: theme.palette.primary.main,\r\n      padding: theme.spacing.unit,\r\n\r\n      // Flex\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      justifyContent: 'flex-end',\r\n      alignItems: 'flex-start',\r\n    },\r\n  });\r\n\r\nexport default withStyles(styles)(withRouter(AppDrawer));\r\n","import React, { FC, ComponentProps } from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { createStyles, withStyles, WithStyles } from '@material-ui/core/styles';\r\n\r\ninterface IProps extends WithStyles<typeof styles> {\r\n  pageTitle?: string;\r\n}\r\ntype Props = IProps & ComponentProps<typeof Typography>;\r\n\r\nconst PageTitle: FC<Props> = ({ classes, pageTitle, ...rest }) => (\r\n  <Typography\r\n    variant=\"h6\"\r\n    color=\"inherit\"\r\n    className={classes.pageTitle}\r\n    align=\"left\"\r\n    {...rest}\r\n  >\r\n    {pageTitle}\r\n  </Typography>\r\n);\r\n\r\nconst styles = (theme: any) =>\r\n  createStyles({\r\n    pageTitle: {\r\n      flex: 1,\r\n      overflow: 'hidden',\r\n      whiteSpace: 'nowrap',\r\n      textOverflow: 'ellipsis',\r\n    },\r\n  });\r\n\r\nexport default withStyles(styles)(PageTitle);\r\n","import React, { FC, ComponentProps } from 'react';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport { createStyles, withStyles, WithStyles } from '@material-ui/core/styles';\r\n\r\ninterface IProps extends WithStyles<typeof styles> {}\r\ntype Props = IProps & ComponentProps<typeof IconButton>;\r\nconst LeftIconButton: FC<Props> = ({ classes, ...rest }) => (\r\n  <IconButton color=\"inherit\" {...rest} className={classes.buttonMargin} />\r\n);\r\nconst styles = (theme: any) =>\r\n  createStyles({\r\n    buttonMargin: {\r\n      marginLeft: -12,\r\n      marginRight: 20,\r\n    },\r\n  });\r\n\r\nexport default withStyles(styles)(LeftIconButton);\r\n","import React, { FC, ComponentProps } from 'react';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport { createStyles, withStyles, WithStyles } from '@material-ui/core/styles';\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\r\nimport PageTitle from './PageTitle';\r\nimport LeftIconButton from './LeftIconButton';\r\n\r\ninterface IProps {\r\n  onGoBack?: (e: any) => void;\r\n  pageTitle?: string;\r\n}\r\nconst DeadEndToolbar: FC<IProps & ComponentProps<typeof Toolbar>> = props => {\r\n  const { onGoBack, pageTitle, children, ...rest } = props;\r\n  return (\r\n    <Toolbar {...rest}>\r\n      <LeftIconButton onClick={onGoBack} aria-label=\"Πίσω\" title=\"Πίσω\">\r\n        <ArrowBackIcon />\r\n      </LeftIconButton>\r\n      {!!pageTitle && <PageTitle pageTitle={pageTitle} />}\r\n      {children}\r\n    </Toolbar>\r\n  );\r\n};\r\n\r\nexport default DeadEndToolbar;\r\n","export function toUpperCaseInitial(name?: string): string | undefined {\r\n  if (!name) return;\r\n\r\n  const initial = name.trimStart()[0];\r\n  if (!initial) return;\r\n\r\n  return normalizeLetter(initial).toUpperCase();\r\n}\r\nexport function normalizeLetter(letter: string): string {\r\n  const pairs: { [key: string]: string } = {\r\n    Ά: 'Α',\r\n    Έ: 'Ε',\r\n    Ή: 'Η',\r\n    Ί: 'Ι',\r\n    Ό: 'Ο',\r\n    Ύ: 'Υ',\r\n    Ώ: 'Ω',\r\n    Ϊ: 'Ι',\r\n    ΐ: 'I',\r\n    Ϋ: 'Υ',\r\n    ΰ: 'Υ',\r\n  };\r\n  return pairs[letter] || letter;\r\n}\r\n","import React, { useState, ComponentProps } from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { IEmployee } from '../interfaces/IEmployee';\r\nimport { toUpperCaseInitial } from '../utils/getUpperCaseInitial';\r\nimport PersonIcon from '@material-ui/icons/Person';\r\nimport ExpandIcon from '@material-ui/icons/ExpandMore';\r\n\r\nimport Collapse from '@material-ui/core/Collapse';\r\nimport { createStyles, withStyles, WithStyles } from '@material-ui/core/styles';\r\nimport { setHours, setMinutes, format } from 'date-fns';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\r\nimport IconButton from '@material-ui/core/IconButton';\r\n\r\ninterface IProps extends WithStyles<typeof styles> {\r\n  employee?: IEmployee;\r\n  goBack?: () => void;\r\n  expanded?: boolean;\r\n}\r\n\r\nfunction ExpandableListTile(props: IProps & ComponentProps<typeof ListItem>) {\r\n  const { employee, goBack, classes, expanded, ...rest } = props;\r\n  const [isExpanded, setIsExpanded] = useState(expanded || false);\r\n  const toggleExpand = () => setIsExpanded(!isExpanded);\r\n  const employeeFiller: IEmployee = {\r\n    name: 'Επιλέξτε υπάλληλο',\r\n    vat: '000000000',\r\n    workStart: setHours(setMinutes(new Date(), 0), 0),\r\n    workFinish: setHours(setMinutes(new Date(), 0), 0),\r\n  };\r\n\r\n  const { name, vat, workStart, workFinish } = employee ? employee : employeeFiller;\r\n  let initial;\r\n  if (employee) initial = toUpperCaseInitial(employee.name);\r\n\r\n  return (\r\n    <div style={{ flex: 1 }}>\r\n      <ListItem {...rest} onClick={toggleExpand}>\r\n        <ListItemAvatar>\r\n          <Avatar className={classes.primary}>{initial || <PersonIcon />}</Avatar>\r\n        </ListItemAvatar>\r\n        <div className={classes.panel}>\r\n          <Typography className={classes.title}>{name}</Typography>\r\n          <Collapse in={isExpanded} component={'span'}>\r\n            <div>\r\n              <Typography color=\"textSecondary\">{`ΑΦΜ: ${vat}`}</Typography>\r\n              <Typography color=\"textSecondary\">\r\n                {`${format(workStart, 'HH:mm')} - ${format(workFinish, 'HH:mm')}`}\r\n              </Typography>\r\n            </div>\r\n          </Collapse>\r\n        </div>\r\n        <ListItemSecondaryAction>\r\n          <IconButton onClick={toggleExpand}>\r\n            <ExpandIcon\r\n              color=\"action\"\r\n              className={`${classes.icon} ${isExpanded && classes.rotate}`}\r\n            />\r\n          </IconButton>\r\n        </ListItemSecondaryAction>\r\n      </ListItem>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst styles = (theme: any) =>\r\n  createStyles({\r\n    icon: {\r\n      transition: 'transform 0.1s ease-out',\r\n    },\r\n    rotate: {\r\n      transform: 'rotate(180deg)',\r\n    },\r\n    panel: {\r\n      marginLeft: theme.spacing.unit * 2,\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      justifyContent: 'flex-start',\r\n    },\r\n    title: {\r\n      fontSize: '1rem',\r\n      fontWeight: 400,\r\n    },\r\n    primary: {\r\n      backgroundColor: theme.palette.primary.light,\r\n    },\r\n  });\r\n\r\nexport default withStyles(styles)(ExpandableListTile);\r\n","import React, { FC } from 'react';\r\nimport { withStyles, createStyles, WithStyles } from '@material-ui/core/styles';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport LeftIconButton from './LeftIconButton';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport ExpandableListTile from '../../ExpandableListTile';\r\nimport { IEmployee } from '../../../interfaces';\r\nimport { Link } from 'react-router-dom';\r\nimport { routes } from '../../../routes';\r\n\r\ninterface IProps extends WithStyles<typeof styles> {\r\n  employee: IEmployee;\r\n  onGoBack?: (e: any) => void;\r\n  onDelete: (e: any) => void;\r\n}\r\n\r\nconst EmployeeInfo: FC<IProps> = props => {\r\n  const { classes, employee, onGoBack, onDelete } = props;\r\n  const LinkToEmployeeForm = (props: any) => (\r\n    <Link {...props} to={`${routes.EMPLOYEE_FORM}/${employee.id}`} />\r\n  );\r\n  return (\r\n    <Toolbar className={classes.mainToolbar}>\r\n      <LeftIconButton onClick={onGoBack} color=\"inherit\" aria-label=\"Πίσω\" title=\"Πίσω\">\r\n        <ArrowBackIcon />\r\n      </LeftIconButton>\r\n      <ExpandableListTile employee={employee} className={classes.listItem} expanded />\r\n    </Toolbar>\r\n  );\r\n};\r\n\r\nconst styles = (theme: any) =>\r\n  createStyles({\r\n    listItem: {\r\n      paddingLeft: 0,\r\n      paddingRight: 0,\r\n      marginLeft: 0,\r\n    },\r\n    mainToolbar: {\r\n      justifyContent: 'flex-start',\r\n      alignItems: 'center',\r\n    },\r\n    secondaryToolbar: {\r\n      justifyContent: 'space-around',\r\n      flexWrap: 'wrap',\r\n    },\r\n\r\n    rightIcon: {\r\n      marginLeft: theme.spacing.unit,\r\n    },\r\n  });\r\n\r\nexport default withStyles(styles)(EmployeeInfo);\r\n","import React, { FC, Component } from 'react';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport CheckIcon from '@material-ui/icons/Check';\r\nimport { createStyles, withStyles, WithStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport PageTitle from './PageTitle';\r\nimport LeftIconButton from './LeftIconButton';\r\n\r\ninterface IProps {\r\n  onSubmit?: (e: any) => void;\r\n  onCancel?: (e: any) => void;\r\n  pageTitle: string;\r\n}\r\n\r\nconst FormToolbar: FC<IProps> = props => {\r\n  const { onSubmit, onCancel, pageTitle } = props;\r\n  return (\r\n    <Toolbar>\r\n      <LeftIconButton onClick={onCancel} aria-label=\"Άκυρο\" title=\"Άκυρο\">\r\n        <CloseIcon />\r\n      </LeftIconButton>\r\n\r\n      <PageTitle pageTitle={pageTitle} />\r\n\r\n      <Button\r\n        color=\"primary\"\r\n        size=\"small\"\r\n        onClick={onSubmit}\r\n        aria-label=\"Αποθήκευση\"\r\n        title=\"Αποθήκευση\"\r\n      >\r\n        ΑΠΟΘΗΚΕΥΣΗ\r\n      </Button>\r\n      {/* <IconButton\r\n        onClick={onSubmit}\r\n        color=\"inherit\"\r\n        aria-label=\"Αποθήκευση\"\r\n        title=\"Αποθήκευση\"\r\n      >\r\n        <CheckIcon />\r\n      </IconButton> */}\r\n    </Toolbar>\r\n  );\r\n};\r\n\r\nexport default FormToolbar;\r\n","import React, { FC, ReactNode } from 'react';\r\n\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport PageTitle from './PageTitle';\r\nimport LeftIconButton from './LeftIconButton';\r\n\r\ninterface IProps {\r\n  pageTitle?: string;\r\n  onOpenDrawer?: (e: any) => void;\r\n  secondaryActions?: ReactNode;\r\n}\r\nconst DrawerToolbar: FC<IProps> = props => {\r\n  const { pageTitle, onOpenDrawer, secondaryActions } = props;\r\n  return (\r\n    <Toolbar>\r\n      <LeftIconButton\r\n        onClick={onOpenDrawer}\r\n        aria-label=\"Μενού Επιλογών\"\r\n        title=\"Μενού Επιλογών\"\r\n      >\r\n        <MenuIcon />\r\n      </LeftIconButton>\r\n      <PageTitle pageTitle={pageTitle} />\r\n      {secondaryActions}\r\n    </Toolbar>\r\n  );\r\n};\r\n\r\nexport default DrawerToolbar;\r\n","import Dexie from 'dexie';\r\nimport { IEmployer, IEmployee, IE8Sms } from '../interfaces';\r\nclass LocalDb extends Dexie {\r\n  employer: Dexie.Table<IEmployer, number>;\r\n  employee: Dexie.Table<IEmployee, number>;\r\n  sms: Dexie.Table<IE8Sms, number>;\r\n\r\n  constructor() {\r\n    super('LocalDb');\r\n    this.version(1).stores({\r\n      employer: '++id, name, vat',\r\n      employee: '++id, name, vat',\r\n      sms: 'id++, employee.id, dateSent',\r\n    });\r\n\r\n    this.employer = this.table('employer');\r\n    this.employee = this.table('employee');\r\n    this.sms = this.table('sms');\r\n  }\r\n}\r\n\r\nconst dexieDb = new LocalDb();\r\nexport default dexieDb;\r\n","import { format } from 'date-fns';\r\nimport { IE8Sms, IEmployee } from '../interfaces';\r\nimport { ExportToCsv, Options } from 'export-to-csv';\r\n\r\nexport default function exportToCsvSmsList(\r\n  smsList: IE8Sms[],\r\n  options?: Partial<Options>,\r\n) {\r\n  if (smsList.length === 0) return;\r\n  const defaultOptions = {\r\n    fieldSeparator: ',',\r\n    quoteStrings: '\"',\r\n    decimalSeparator: '.',\r\n    showLabels: true,\r\n    showTitle: false,\r\n    title: 'Μηνύματα Εργάνη',\r\n    filename: 'Μηνύματα Εργάνη',\r\n    useTextFile: false,\r\n    useBom: true,\r\n    useKeysAsHeaders: true,\r\n  };\r\n  const data = smsList.map(sms => {\r\n    return {\r\n      Υπάλληλος: sms.employee.name,\r\n      ΑΦΜ: sms.employee.vat,\r\n      'Έναρξη υπερωρίας': format(sms.overtimeStart, 'HH:mm'),\r\n      'Λήξη υπερωρίας': format(sms.overtimeFinish, 'HH:mm'),\r\n      'Ημερομηνία αποστολής': format(sms.dateSent, 'dd/MM/yyyy HH:mm'),\r\n      'Δεκτή απο Εργάνη': sms.approved ? 'ΝΑΙ' : 'ΟΧΙ',\r\n    };\r\n  });\r\n\r\n  const csvExporter = new ExportToCsv({ ...defaultOptions, ...options });\r\n\r\n  csvExporter.generateCsv(data);\r\n}\r\nexport function exportToCsvEmployees(\r\n  employeeList: IEmployee[],\r\n  options?: Partial<Options>,\r\n) {\r\n  if (employeeList.length === 0) return;\r\n  const defaultOptions = {\r\n    fieldSeparator: ',',\r\n    quoteStrings: '\"',\r\n    decimalSeparator: '.',\r\n    showLabels: true,\r\n    showTitle: true,\r\n    title: 'Υπάλληλοι',\r\n    filename: 'Υπάλληλοι',\r\n    useTextFile: false,\r\n    useBom: true,\r\n    useKeysAsHeaders: true,\r\n  };\r\n  const data = employeeList.map(employee => {\r\n    return {\r\n      Όνοματεπώνυμο: employee.name,\r\n      ΑΦΜ: employee.vat,\r\n      'Έναρξη εργασίας': format(employee.workStart, 'HH:mm'),\r\n      'Λήξη εργασίας': format(employee.workFinish, 'HH:mm'),\r\n    };\r\n  });\r\n\r\n  const csvExporter = new ExportToCsv({ ...defaultOptions, ...options });\r\n\r\n  csvExporter.generateCsv(data);\r\n}\r\n","import React, { FC, ComponentProps } from 'react';\r\nimport { withStyles, Theme, createStyles, WithStyles } from '@material-ui/core/styles';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\ntype Props = WithStyles<typeof styles> & ComponentProps<typeof CircularProgress>;\r\nconst CenteredSpinner: FC<Props> = props => {\r\n  const { classes, ...rest } = props;\r\n\r\n  return (\r\n    <div className={classes.spinner}>\r\n      <CircularProgress {...rest} />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    spinner: {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n      height: theme.spacing.unit * 12,\r\n      padding: theme.spacing.unit * 3,\r\n    },\r\n  });\r\n\r\nexport default withStyles(styles)(CenteredSpinner);\r\n","import React, { FC, ComponentProps } from 'react';\r\nimport grey from '@material-ui/core/colors/blueGrey';\r\nimport MailIcon from '@material-ui/icons/Email';\r\nimport PeopleIcon from '@material-ui/icons/People';\r\nimport PersonIcon from '@material-ui/icons/Person';\r\nimport SadFaceIcon from '@material-ui/icons/SentimentDissatisfied';\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\nimport { withStyles, Theme, createStyles, WithStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\ninterface IProps extends WithStyles<typeof styles> {\r\n  icon: 'message' | 'people' | 'person' | 'sadface' | 'settings';\r\n  message?: string;\r\n}\r\nconst NotFound: FC<IProps & ComponentProps<typeof Typography>> = props => {\r\n  const { classes, icon, message, children, ...rest } = props;\r\n\r\n  function pickIcon() {\r\n    switch (icon) {\r\n      case 'message':\r\n        return <MailIcon className={classes.icon} />;\r\n      case 'people':\r\n        return <PeopleIcon className={classes.icon} />;\r\n      case 'sadface':\r\n        return <SadFaceIcon className={classes.icon} />;\r\n      case 'settings':\r\n        return <SettingsIcon className={classes.icon} />;\r\n      default:\r\n      case 'person':\r\n        return <PersonIcon className={classes.icon} />;\r\n    }\r\n  }\r\n  return (\r\n    <div className={classes.root}>\r\n      {pickIcon()}\r\n      <div className={classes.content}>\r\n        {!!message && (\r\n          <Typography variant=\"h5\" className={classes.text} align=\"left\" {...rest}>\r\n            {message}\r\n          </Typography>\r\n        )}\r\n        {!!children && <div className={classes.children}>{children}</div>}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    icon: {\r\n      color: grey[100],\r\n      fontSize: theme.spacing.unit * 10,\r\n    },\r\n    text: {\r\n      color: grey[300],\r\n    },\r\n    children: { marginTop: theme.spacing.unit * 3 },\r\n    content: {\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      marginLeft: theme.spacing.unit,\r\n    },\r\n    root: {\r\n      width: '100%',\r\n      height: '70vh',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n      padding: theme.spacing.unit * 2,\r\n    },\r\n  });\r\nexport default withStyles(styles)(NotFound);\r\n","import React, { FC, useState, useEffect } from 'react';\r\nimport SmsList from '../../components/SmsList';\r\nimport { IE8Sms } from '../../interfaces';\r\nimport {\r\n  AppBar,\r\n  DrawerToolbar,\r\n  AppDrawer,\r\n  DeadEndToolbar,\r\n} from '../../components/AppShell';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport BackupIcon from '@material-ui/icons/Backup';\r\nimport dexieDb from '../../db/db';\r\nimport Fade from '@material-ui/core/Fade';\r\nimport exportToCsvSmsList from '../../utils/exportToCSV';\r\nimport CenteredSpinner from '../../components/CenteredSpinner';\r\nimport NotFound from '../../components/NotFound';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport SaveIcon from '@material-ui/icons/SaveAlt';\r\nimport { RouteComponentProps } from 'react-router';\r\n\r\nconst SmsLog: FC<RouteComponentProps> = props => {\r\n  const { history } = props;\r\n  const [smsList, setSmsList] = useState<IE8Sms[]>([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  useEffect(() => {\r\n    async function fetchSmsList() {\r\n      let smsList: IE8Sms[] = [];\r\n      try {\r\n        smsList = await dexieDb.sms.toArray();\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n      setSmsList(smsList);\r\n      setIsLoading(false);\r\n    }\r\n    fetchSmsList();\r\n  }, []);\r\n\r\n  const handleExportToCSV = () => exportToCsvSmsList(smsList);\r\n\r\n  return (\r\n    <>\r\n      <AppBar>\r\n        <DeadEndToolbar pageTitle=\"Λίστα Sms\" onGoBack={history.goBack} />\r\n      </AppBar>\r\n      {isLoading && <CenteredSpinner />}\r\n      {!isLoading && (\r\n        <Fade in={!isLoading}>\r\n          <div>\r\n            {smsList.length === 0 && (\r\n              <NotFound icon=\"message\" message=\"Τα μηνύματα Ε8 θα εμφανίζονται εδώ\" />\r\n            )}\r\n            {smsList.length !== 0 && (\r\n              <>\r\n                <SmsList smsList={smsList} />\r\n                <Fab\r\n                  onClick={handleExportToCSV}\r\n                  color=\"primary\"\r\n                  aria-label=\"csv\"\r\n                  title=\"Αποθήκευση σε CSV\"\r\n                  style={{\r\n                    position: 'fixed',\r\n                    bottom: 0,\r\n                    right: 0,\r\n                    margin: 16,\r\n                  }}\r\n                >\r\n                  <SaveIcon />\r\n                </Fab>\r\n              </>\r\n            )}\r\n          </div>\r\n        </Fade>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SmsLog;\r\n","import React, { FC, useState } from 'react';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MoreIcon from '@material-ui/icons/MoreVert';\r\nimport PersonIcon from '@material-ui/icons/Person';\r\nimport { createStyles, withStyles } from '@material-ui/core';\r\nimport { IEmployee } from '../../interfaces/IEmployee';\r\nimport { toUpperCaseInitial } from '../../utils/getUpperCaseInitial';\r\nimport { Link } from 'react-router-dom';\r\nimport { routes } from '../../routes';\r\n\r\nconst styles = (theme: any) =>\r\n  createStyles({\r\n    blue: {\r\n      backgroundColor: theme.palette.primary.light,\r\n    },\r\n  });\r\n\r\ninterface IProps {\r\n  classes: any;\r\n  employee: IEmployee;\r\n  onSecondaryAction?: (e: any) => void;\r\n}\r\nconst EmployeeListItem: FC<IProps> = props => {\r\n  const { employee, onSecondaryAction, classes } = props;\r\n  const initial = toUpperCaseInitial(employee.name);\r\n\r\n  \r\n  const EmployeeE8Link = (props: any) => (\r\n    <Link {...props} to={`${routes.E8FORM}/${employee.id}`} />\r\n  );\r\n\r\n  return (\r\n    <ListItem button component={EmployeeE8Link}>\r\n      <ListItemAvatar>\r\n        <Avatar className={classes.blue}>{initial || <PersonIcon />}</Avatar>\r\n      </ListItemAvatar>\r\n      <ListItemText primary={employee.name} secondary={employee.vat} />\r\n      <ListItemSecondaryAction>\r\n        <IconButton\r\n          aria-owns={\"Μενού επιλογών\"}\r\n          aria-haspopup=\"true\"\r\n          onClick={onSecondaryAction}\r\n        >\r\n          <MoreIcon />\r\n        </IconButton>\r\n      </ListItemSecondaryAction>\r\n    </ListItem>\r\n  );\r\n};\r\n\r\nexport default withStyles(styles)(EmployeeListItem);\r\n","import React, { FC, useState, useEffect } from 'react';\r\nimport { withStyles, createStyles, WithStyles, Theme } from '@material-ui/core/styles';\r\nimport List from '@material-ui/core/List';\r\nimport EmployeeListItem from './EmployeeListItem';\r\nimport { IEmployee } from '../../interfaces/IEmployee';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport SaveIcon from '@material-ui/icons/SaveAlt';\r\nimport { AppBar, DrawerToolbar, AppDrawer } from '../../components/AppShell';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport AddIcon from '@material-ui/icons/PersonAdd';\r\nimport { Link } from 'react-router-dom';\r\nimport { routes } from '../../routes';\r\nimport db from '../../db/db';\r\nimport Fade from '@material-ui/core/Fade';\r\nimport { exportToCsvEmployees } from '../../utils/exportToCSV';\r\nimport NotFound from '../../components/NotFound';\r\nimport CenteredSpinner from '../../components/CenteredSpinner';\r\nimport { IEmployer } from '../../interfaces';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport LaunchIcon from '@material-ui/icons/NavigateNext';\r\nimport Divider from '@material-ui/core/Divider';\r\n\r\ninterface IProps extends WithStyles<typeof styles> {\r\n  classes: any;\r\n  // employees: IEmployee[];\r\n}\r\nconst EmployeeList: FC<IProps> = props => {\r\n  const { classes } = props;\r\n\r\n  const [drawerState, setDrawerState] = useState(false);\r\n  const toggleDrawerState = () => setDrawerState(!drawerState);\r\n\r\n  const [isLoading, toggleLoading] = useState(true);\r\n  const [employees, setEmployees] = useState<IEmployee[]>([]);\r\n  const [employer, setEmployer] = useState<IEmployer | undefined>();\r\n\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const [targettedEmployeeId, setTargettedEmployeeId] = useState<number | undefined>();\r\n  // TODO: add undo delete\r\n  const [deletedEmployee, setDeletedEmployee] = useState<IEmployee | undefined>();\r\n  const handleOpenMenu = (id?: number) => (event: any) => {\r\n    setTargettedEmployeeId(id);\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n  const handleCloseMenu = () => setAnchorEl(null);\r\n  // const handleCloseMenu = (e: any) => console.log(e.currentTarget);\r\n\r\n  // Empty array as 2nd arg to run the effect only after the first render.\r\n  // Similar to componentdidmount.\r\n  useEffect(() => {\r\n    async function fetchEmployees() {\r\n      let employees;\r\n      try {\r\n        employees = await db.employee.toCollection().toArray();\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n      setEmployees(employees || []);\r\n      toggleLoading(false);\r\n    }\r\n    fetchEmployees();\r\n  }, [deletedEmployee]);\r\n  useEffect(() => {\r\n    async function fetchEmployer() {\r\n      let employer;\r\n      try {\r\n        employer = await db.employer.toCollection().last();\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n      setEmployer(employer);\r\n    }\r\n    fetchEmployer();\r\n  }, []);\r\n  const LinkToEmployeeFormNew = (props: any) => (\r\n    <Link to={routes.EMPLOYEE_FORM} {...props} />\r\n  );\r\n  const LinkToEmployeeFormEdit = (props: any) => (\r\n    <Link to={`${routes.EMPLOYEE_FORM}/${targettedEmployeeId}`} {...props} />\r\n  );\r\n  const LinkToEmployeeInfo = (props: any) => (\r\n    <Link to={`${routes.EMPLOYEE_INFO}/${targettedEmployeeId}`} {...props} />\r\n  );\r\n  // DELETE employee\r\n  const handleDelete = async () => {\r\n    if (!targettedEmployeeId) return;\r\n    try {\r\n      const toDelete = await db.employee.get(targettedEmployeeId);\r\n      await db.employee.delete(targettedEmployeeId);\r\n      handleCloseMenu();\r\n      setDeletedEmployee(toDelete);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <AppBar>\r\n        <DrawerToolbar onOpenDrawer={toggleDrawerState} pageTitle=\"Υπάλληλοι\" />\r\n      </AppBar>\r\n      <AppDrawer\r\n        toggleOpen={toggleDrawerState}\r\n        isOpen={drawerState}\r\n        employer={employer}\r\n      />\r\n      <div\r\n        className={`${classes.fabContainer} ${!isLoading &&\r\n          employees.length === 0 &&\r\n          classes.grow}`}\r\n      >\r\n        <Fab\r\n          color=\"default\"\r\n          aria-label=\"Add\"\r\n          component={LinkToEmployeeFormNew}\r\n          className={`${classes.fab} ${!isLoading &&\r\n            employees.length === 0 &&\r\n            classes.fabGrow}`}\r\n        >\r\n          <AddIcon color=\"primary\" className={classes.onTopOfGrow} />\r\n        </Fab>\r\n      </div>\r\n      {isLoading && <CenteredSpinner />}\r\n      {!isLoading && (\r\n        <Fade in={!isLoading}>\r\n          <div>\r\n            {employees.length === 0 && (\r\n              <NotFound icon=\"people\" message=\"Προσθέστε υπαλλήλους για να συνεχίσετε\" />\r\n            )}\r\n            {employees.length !== 0 && (\r\n              <>\r\n                <List className={classes.list}>\r\n                  {employees.map(e => (\r\n                    <EmployeeListItem\r\n                      employee={e}\r\n                      key={e.id}\r\n                      onSecondaryAction={handleOpenMenu(e.id)}\r\n                    />\r\n                  ))}\r\n                </List>\r\n                <Menu\r\n                  id=\"options-menu\"\r\n                  anchorEl={anchorEl}\r\n                  open={!!anchorEl}\r\n                  onClose={handleCloseMenu}\r\n                >\r\n                  <MenuItem onClick={handleCloseMenu} component={LinkToEmployeeFormEdit}>\r\n                    Επεξεργασία\r\n                  </MenuItem>\r\n                  <MenuItem onClick={handleDelete}>Διαγραφή</MenuItem>\r\n                  <Divider light variant=\"middle\" />\r\n                  <MenuItem onClick={handleCloseMenu} component={LinkToEmployeeInfo}>\r\n                    <ListItemText primary=\"Μηνύματα\" />\r\n                    <ListItemIcon>\r\n                      <LaunchIcon />\r\n                    </ListItemIcon>\r\n                  </MenuItem>\r\n                </Menu>\r\n              </>\r\n            )}\r\n          </div>\r\n        </Fade>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    list: {\r\n      width: '100%',\r\n      margin: 'auto',\r\n      paddingBottom: '100px',\r\n    },\r\n    fab: {\r\n      backgroundColor: 'white',\r\n    },\r\n    fabContainer: {\r\n      position: 'fixed',\r\n      bottom: 0,\r\n      right: 0,\r\n      padding: theme.spacing.unit * 2,\r\n    },\r\n    '@keyframes growAnimation': {\r\n      from: { transform: 'scale(2.8)' },\r\n      to: { transform: 'scale(3.5)' },\r\n    },\r\n    '@keyframes fabGrowAnimation': {\r\n      from: { transform: 'scale(1)' },\r\n      to: { transform: 'scale(1.1)' },\r\n    },\r\n    fabGrow: {\r\n      '&:before': {\r\n        content: '\"\"',\r\n        position: 'absolute',\r\n        borderRadius: '50%',\r\n        width: '100%',\r\n        height: '100%',\r\n        backgroundColor: 'white',\r\n        animation: '0.4s alternate fabGrowAnimation ease-out infinite',\r\n      },\r\n    },\r\n    onTopOfGrow: {\r\n      zIndex: 1,\r\n    },\r\n    grow: {\r\n      '&:before': {\r\n        content: '\"\"',\r\n        position: 'absolute',\r\n        zIndex: -1,\r\n        borderRadius: '50%',\r\n        width: '100%',\r\n        height: '100%',\r\n        backgroundColor: theme.palette.primary.main,\r\n        animation: '1s alternate growAnimation ease-out infinite',\r\n      },\r\n    },\r\n  });\r\n\r\nexport default withStyles(styles)(EmployeeList);\r\n","import React, { FC } from 'react';\r\nimport SmsList from '../../components/SmsList';\r\nimport { EmployeeInfoToolbar, AppBar, DeadEndToolbar } from '../../components/AppShell';\r\nimport Fade from '@material-ui/core/Fade';\r\nimport SaveIcon from '@material-ui/icons/SaveAlt';\r\nimport NotFound from '../../components/NotFound';\r\nimport { IE8Sms, IEmployee } from '../../interfaces';\r\nimport { withStyles, Theme, createStyles, WithStyles } from '@material-ui/core/styles';\r\nimport CenteredSpinner from '../../components/CenteredSpinner';\r\nimport Fab from '@material-ui/core/Fab';\r\n\r\ninterface IProps extends WithStyles<typeof styles> {\r\n  isFetchingEmployee: boolean;\r\n  isFetchingSms: boolean;\r\n  employee?: IEmployee;\r\n  smsList: IE8Sms[];\r\n  handleDelete: (e: any) => void;\r\n  onGoBack?: (e: any) => void;\r\n  handleExportCSV: () => void;\r\n}\r\nconst View: FC<IProps> = props => {\r\n  const { classes } = props;\r\n\r\n  return (\r\n    <>\r\n      <AppBar>\r\n        {props.isFetchingEmployee && <CenteredSpinner />}\r\n        {!props.isFetchingEmployee && (\r\n          <Fade in={!props.isFetchingEmployee}>\r\n            <div>\r\n              {props.employee ? (\r\n                <EmployeeInfoToolbar\r\n                  onGoBack={props.onGoBack}\r\n                  employee={props.employee}\r\n                  onDelete={props.handleDelete}\r\n                />\r\n              ) : (\r\n                <DeadEndToolbar\r\n                  pageTitle=\"Δεν βρέθηκε ο υπάλληλος\"\r\n                  onGoBack={props.onGoBack}\r\n                />\r\n              )}\r\n            </div>\r\n          </Fade>\r\n        )}\r\n      </AppBar>\r\n      {!props.isFetchingEmployee && props.isFetchingSms && <CenteredSpinner />}\r\n      {!props.isFetchingEmployee && !props.isFetchingSms && (\r\n        <Fade in>\r\n          {props.smsList.length !== 0 ? (\r\n            <div>\r\n              <SmsList smsList={props.smsList} />\r\n              <Fab\r\n                onClick={props.handleExportCSV}\r\n                color=\"primary\"\r\n                aria-label=\"csv\"\r\n                className={classes.fab}\r\n                title=\"Αποθήκευση σε CSV\"\r\n              >\r\n                <SaveIcon />\r\n              </Fab>\r\n            </div>\r\n          ) : (\r\n            <div>\r\n              {!!props.employee && props.smsList.length === 0 && (\r\n                <NotFound\r\n                  icon=\"message\"\r\n                  message=\"Τα μηνύματα Ε8 του υπαλλήλου θα εμφανίζονται εδώ\"\r\n                />\r\n              )}\r\n              {!props.isFetchingEmployee && !props.employee && (\r\n                <NotFound\r\n                  message=\"Δεν βρέθηκε υπάλληλος με αυτά τα στοιχεία\"\r\n                  icon=\"sadface\"\r\n                />\r\n              )}\r\n            </div>\r\n          )}\r\n        </Fade>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    spinner: {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n      height: theme.spacing.unit * 10,\r\n      padding: theme.spacing.unit * 3,\r\n    },\r\n    fab: {\r\n      position: 'fixed',\r\n      bottom: 0,\r\n      right: 0,\r\n      margin: theme.spacing.unit * 2,\r\n    },\r\n  });\r\n\r\nexport default withStyles(styles)(View);\r\n","import React, { FC, useEffect, useState } from 'react';\r\nimport SmsList from '../../components/SmsList';\r\nimport { IE8Sms, IEmployee } from '../../interfaces';\r\nimport { RouteComponentProps } from 'react-router';\r\nimport { EmployeeInfoToolbar, AppBar } from '../../components/AppShell';\r\nimport db from '../../db/db';\r\nimport Fade from '@material-ui/core/Fade';\r\nimport exportToCsvSmsList from '../../utils/exportToCSV';\r\nimport { Fab } from '@material-ui/core';\r\nimport SaveIcon from '@material-ui/icons/Save';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport NotFound from '../../components/NotFound';\r\nimport View from './View';\r\n\r\ninterface IMatchParams {\r\n  employeeID?: string;\r\n}\r\n\r\nconst EmployeeInfo: FC<RouteComponentProps<IMatchParams>> = props => {\r\n  const { match, history } = props;\r\n\r\n  const [smsList, setSmsList] = useState<IE8Sms[]>([]);\r\n  const [employee, setEmployee] = useState<IEmployee | undefined>();\r\n  const [isFetchingEmployee, setIsFetchingEmployee] = useState(true);\r\n  const [isFetchingSms, setIsFetchingSms] = useState(false);\r\n\r\n  // Fetch employee\r\n  useEffect(() => {\r\n    async function fetchEmployee() {\r\n      const { employeeID } = match.params;\r\n      let employee;\r\n      try {\r\n        if (employeeID) employee = await db.employee.get(parseInt(employeeID, 10));\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n      setEmployee(employee);\r\n      setIsFetchingEmployee(false);\r\n      setIsFetchingSms(true);\r\n    }\r\n    fetchEmployee();\r\n  }, []);\r\n\r\n  // Fetch employee sms\r\n  useEffect(() => {\r\n    async function fetchSmsList() {\r\n      let smsList: IE8Sms[] = [];\r\n      const { employeeID } = match.params;\r\n      try {\r\n        if (employeeID)\r\n          smsList = await db.sms\r\n            .where('employee.id')\r\n            .equals(parseInt(employeeID))\r\n            .toArray();\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n      setSmsList(smsList);\r\n      setIsFetchingSms(false);\r\n    }\r\n    fetchSmsList();\r\n  }, []);\r\n\r\n  // DELETE\r\n  const handleDelete = async () => {\r\n    if (!employee) return;\r\n\r\n    const { employeeID } = props.match.params;\r\n    if (!employeeID) return;\r\n\r\n    try {\r\n      db.employee.delete(parseInt(employeeID, 10));\r\n      return props.history.goBack();\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n  const handleExportCSV = () =>\r\n    exportToCsvSmsList(smsList, { filename: `${employee!.name} μηνύματα Εργάνη` });\r\n  return (\r\n    <View\r\n      onGoBack={history.goBack}\r\n      isFetchingEmployee={isFetchingEmployee}\r\n      isFetchingSms={isFetchingSms}\r\n      employee={employee}\r\n      smsList={smsList}\r\n      handleDelete={handleDelete}\r\n      handleExportCSV={handleExportCSV}\r\n    />\r\n  );\r\n};\r\n\r\nexport default EmployeeInfo;\r\n","import { IEmployee } from '../../interfaces';\r\nimport { IEmployeeErrors } from '../../interfaces/IEmployeeErrors';\r\n\r\nconst isNumeric = /^\\d+$/;\r\n\r\nconst getEmptyErrors = (): IEmployeeErrors => ({\r\n  name: '',\r\n  vat: '',\r\n  workStart: '',\r\n  workFinish: '',\r\n});\r\nexport default function validateOnChange(values: Partial<IEmployee>) {\r\n  let errors: IEmployeeErrors = getEmptyErrors();\r\n  if (!isNumeric.test(values.vat!)) errors.vat = 'Ο Αφμ αποταιλείται μόνο απο αριθμούς';\r\n  if (!values.vat) errors.vat = '';\r\n  return errors;\r\n}\r\nexport const shouldType = (value: string, valueName: string) =>\r\n  valueName === 'vat' && value.length > 9 ? false : true;\r\n\r\nexport function validateOnSubmit(values: Partial<IEmployee>) {\r\n  let errors: IEmployeeErrors = getEmptyErrors();\r\n  if (!isNumeric.test(values.vat!)) errors.vat = 'Ο Αφμ αποταιλείται μόνο απο αριθμούς';\r\n  if (!values.vat) errors.vat = 'Προσθέστε ΑΦΜ';\r\n  if (values.vat && values.vat.length !== 9)\r\n    errors.vat = 'Ο Αφμ αποταιλείται απο 9 αριθμούς';\r\n  if (!values.name) errors.name = 'Προσθέστε ονοματεπώνυμο';\r\n  if (values.name && values.name.length > 255)\r\n    errors.name = 'Προσθέστε λιγότερους χαρακτήρες';\r\n  return errors;\r\n}\r\n","/** Exact same values as theme.mixins.toolbar.minHeight */\r\nexport const stickyTopWithAppbar = {\r\n  top: 56,\r\n  [`@media (min-width: 0px) and (orientation: landscape)`]: {\r\n    top: 48,\r\n  },\r\n  '@media (min-width: 600px)': {\r\n    top: 64,\r\n  },\r\n};\r\n","import React, { FC } from 'react';\r\nimport { withStyles, Theme, createStyles, WithStyles } from '@material-ui/core/styles';\r\nimport ArrowFwDIcon from '@material-ui/icons/ArrowForward';\r\nimport { TimePicker } from 'material-ui-pickers';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { Typography } from '@material-ui/core';\r\n\r\ninterface IProps extends WithStyles<typeof styles> {\r\n  valueStart: Date;\r\n  onChangeStart: (date: Date) => any;\r\n  valueFinish: Date;\r\n  onChangeFinish: (date: Date) => any;\r\n  labelStart?: React.ReactNode;\r\n  errorLabelStart?: React.ReactNode;\r\n  labelFinish?: React.ReactNode;\r\n  errorLabelFinish?: React.ReactNode;\r\n  errorStart?: boolean;\r\n  errorFinish?: boolean;\r\n}\r\nconst WorkHourPicker: FC<IProps> = props => {\r\n  const {\r\n    classes,\r\n    valueStart,\r\n    valueFinish,\r\n    onChangeStart,\r\n    onChangeFinish,\r\n    errorStart,\r\n    errorFinish,\r\n    labelStart,\r\n    errorLabelStart,\r\n    labelFinish,\r\n    errorLabelFinish,\r\n  } = props;\r\n\r\n  return (\r\n    <div className={classes.timeWrapper}>\r\n      <TimePicker\r\n        label={errorLabelStart || labelStart}\r\n        error={errorStart}\r\n        value={valueStart}\r\n        showTodayButton\r\n        onChange={onChangeStart}\r\n        todayLabel=\"now\"\r\n        ampm={false}\r\n        minutesStep={5}\r\n        margin=\"normal\"\r\n        InputProps={{ className: classes.timeInput }}\r\n      />\r\n      <ArrowFwDIcon className={classes.timeArrow} />\r\n      <TimePicker\r\n        label={errorLabelFinish || labelFinish}\r\n        error={errorFinish}\r\n        value={valueFinish}\r\n        onChange={onChangeFinish}\r\n        showTodayButton\r\n        todayLabel=\"now\"\r\n        ampm={false}\r\n        minutesStep={5}\r\n        margin=\"normal\"\r\n        InputProps={{ className: classes.timeInput }}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    timeWrapper: {\r\n      display: 'flex',\r\n      flexDirection: 'row',\r\n      justifyItems: 'space-between',\r\n      flexGrow: 1,\r\n      padding: 10,\r\n    },\r\n    timeInput: {\r\n      textAlign: 'center',\r\n      minWidth: 0,\r\n    },\r\n    timeArrow: {\r\n      marginTop: 35,\r\n      marginLeft: 20,\r\n      marginRight: 20,\r\n    },\r\n  });\r\n\r\nexport default withStyles(styles)(WorkHourPicker);\r\n","import React, { FC } from 'react';\r\nimport { withStyles, Theme, createStyles, WithStyles } from '@material-ui/core/styles';\r\nimport WorkIcon from '@material-ui/icons/Work';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { stickyTopWithAppbar } from '../../styles/mixins';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListSubheader from '@material-ui/core/ListSubheader';\r\nimport AccountIcon from '@material-ui/icons/AccountCircle';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport WorkHourPicker from '../../components/WorkHourPicker';\r\nimport { IEmployeeErrors } from '../../interfaces/IEmployeeErrors';\r\nimport Button from '@material-ui/core/Button';\r\nimport { AppBar, FormToolbar } from '../../components/AppShell';\r\nimport { withRouter, RouteComponentProps } from 'react-router';\r\nimport { IEmployee } from '../../interfaces';\r\nimport Slide from '@material-ui/core/Slide';\r\nimport Fade from '@material-ui/core/Fade';\r\nimport CenteredSpinner from '../../components/CenteredSpinner';\r\nimport NotFound from '../../components/NotFound';\r\n\r\ninterface IProps extends WithStyles<typeof styles> {\r\n  employee?: IEmployee;\r\n  errors: IEmployeeErrors;\r\n  handleChange: any;\r\n  values: any;\r\n  workStart: any;\r\n  workFinish: any;\r\n  setWorkStart: any;\r\n  setWorkFinish: any;\r\n  handleSubmit: any;\r\n  isLoading: boolean;\r\n}\r\ninterface IMatchParams {\r\n  employeeID?: string;\r\n}\r\nconst EmployeeFormView: FC<IProps & RouteComponentProps<IMatchParams>> = props => {\r\n  const variant = 'standard';\r\n  const {\r\n    classes,\r\n    errors,\r\n    handleChange,\r\n    values,\r\n    workStart,\r\n    workFinish,\r\n    setWorkStart,\r\n    setWorkFinish,\r\n    handleSubmit,\r\n    history,\r\n    isLoading,\r\n    employee,\r\n  } = props;\r\n  const { employeeID } = props.match.params;\r\n  return (\r\n    <div>\r\n      <AppBar>\r\n        <FormToolbar\r\n          pageTitle={employeeID ? 'Επεξεργασία' : 'Νέος υπάλληλος'}\r\n          onCancel={history.goBack}\r\n          onSubmit={handleSubmit}\r\n        />\r\n      </AppBar>\r\n      {isLoading && <CenteredSpinner />}\r\n      <Fade in={!isLoading}>\r\n        <div>\r\n          {employeeID && !employee && (\r\n            <NotFound icon=\"sadface\" message=\"Δεν βρέθηκε ο υπάλληλος\" />\r\n          )}\r\n          {(!employeeID || employee) && (\r\n            <>\r\n              <List\r\n                className={classes.list}\r\n                subheader={\r\n                  <ListSubheader color=\"primary\" className={classes.listHeader}>\r\n                    Στοιχεία υπαλλήλου\r\n                  </ListSubheader>\r\n                }\r\n              >\r\n                <ListItem key=\"employee-fullname\">\r\n                  <ListItemIcon>\r\n                    <AccountIcon />\r\n                  </ListItemIcon>\r\n                  <TextField\r\n                    variant={variant}\r\n                    label={errors.name || 'Ονοματεπώνυμο'}\r\n                    error={!!errors.name}\r\n                    value={values.name}\r\n                    onChange={handleChange('name')}\r\n                    className={classes.textField}\r\n                  />\r\n                </ListItem>\r\n                <ListItem key=\"employee-vat\">\r\n                  <ListItemIcon>\r\n                    <WorkIcon />\r\n                  </ListItemIcon>\r\n                  <TextField\r\n                    variant={variant}\r\n                    type=\"tel\"\r\n                    label={errors.vat || 'ΑΦΜ'}\r\n                    error={!!errors.vat}\r\n                    value={values.vat}\r\n                    onChange={handleChange('vat')}\r\n                    className={classes.textField}\r\n                  />\r\n                </ListItem>\r\n              </List>\r\n              <List\r\n                className={classes.list}\r\n                subheader={\r\n                  <ListSubheader color=\"primary\" className={classes.listHeader}>\r\n                    Τυπικό ωράριο εργασίας\r\n                  </ListSubheader>\r\n                }\r\n              >\r\n                <ListItem key=\"WorkHour\">\r\n                  <WorkHourPicker\r\n                    labelStart=\"Ώρα Έναρξης\"\r\n                    labelFinish=\"Ώρα Λήξης\"\r\n                    valueStart={workStart}\r\n                    valueFinish={workFinish}\r\n                    onChangeStart={setWorkStart}\r\n                    onChangeFinish={setWorkFinish}\r\n                  />\r\n                </ListItem>\r\n              </List>\r\n            </>\r\n          )}\r\n        </div>\r\n      </Fade>\r\n    </div>\r\n  );\r\n};\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    list: {\r\n      width: '100%',\r\n      maxWidth: 600,\r\n      '&:not(:first-child)': {\r\n        marginTop: '2rem',\r\n      },\r\n    },\r\n    listHeader: {\r\n      backgroundColor: theme.palette.background.default,\r\n      ...stickyTopWithAppbar,\r\n    },\r\n    textField: {\r\n      width: '100%',\r\n    },\r\n  });\r\n\r\nexport default withStyles(styles)(EmployeeFormView);\r\n","import React, { FC, useState, useEffect } from 'react';\r\n\r\nimport { addHours, setHours, setMinutes } from 'date-fns';\r\nimport validateOnChange, { validateOnSubmit } from './validation';\r\nimport { IEmployeeErrors } from '../../interfaces/IEmployeeErrors';\r\nimport EmployeeFormView from './EmployeeFormView';\r\nimport { withRouter, RouteComponentProps } from 'react-router';\r\nimport db from '../../db/db';\r\nimport { IEmployee } from '../../interfaces';\r\n\r\ninterface IMatchParams {\r\n  employeeID?: string;\r\n}\r\n\r\nconst EmployeeForm: FC<RouteComponentProps<IMatchParams>> = props => {\r\n  const date: Date = setMinutes(setHours(new Date(), 8), 0);\r\n  const [employee, setEmployee] = useState<IEmployee | undefined>();\r\n  const [isLoading, setIsLoading] = useState<boolean>(!!props.match.params.employeeID);\r\n\r\n  const [errors, setErrors] = useState<IEmployeeErrors>({\r\n    name: '',\r\n    vat: '',\r\n    workStart: '',\r\n    workFinish: '',\r\n  });\r\n  const [values, setValues] = useState({ name: '', vat: '' });\r\n  const [workStart, setWorkStart] = useState(employee ? employee.workStart : date);\r\n  const [workFinish, setWorkFinish] = useState(\r\n    employee ? employee.workFinish : addHours(date, 8),\r\n  );\r\n\r\n  useEffect(() => {\r\n    async function fetchEmployee() {\r\n      const { employeeID } = props.match.params;\r\n      let employee;\r\n      try {\r\n        if (employeeID) employee = await db.employee.get(parseInt(employeeID, 10));\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n      setIsLoading(false);\r\n      setEmployee(employee);\r\n      setValues(\r\n        employee ? { name: employee.name, vat: employee.vat } : { name: '', vat: '' },\r\n      );\r\n      setWorkStart(employee ? employee.workStart : date);\r\n      setWorkFinish(employee ? employee.workFinish : addHours(date, 8));\r\n    }\r\n    fetchEmployee();\r\n  }, []);\r\n  const handleSubmit = async (event: any) => {\r\n    if (event) event.preventDefault();\r\n    const theErrors = validateOnSubmit(values);\r\n\r\n    setErrors(theErrors);\r\n\r\n    // If errors, prevent submition.\r\n    if (!!Object.values(theErrors).reduce((acc, val) => acc + val, '')) return;\r\n\r\n    try {\r\n      await db.employee.put({ ...employee, ...values, workStart, workFinish });\r\n      return props.history.goBack();\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const handleChange = (valueName: string) => (\r\n    event: React.ChangeEvent<HTMLInputElement>,\r\n  ) => {\r\n    if (valueName === 'vat' && event.target.value.length > 9) return;\r\n    const currentValues = { ...values, [valueName]: event.target.value };\r\n    const currentErrors = validateOnChange(currentValues);\r\n    setValues(currentValues);\r\n    setErrors(currentErrors);\r\n  };\r\n\r\n  return (\r\n    <EmployeeFormView\r\n      employee={employee}\r\n      isLoading={isLoading}\r\n      {...props}\r\n      {...{\r\n        errors,\r\n        values,\r\n        workStart,\r\n        workFinish,\r\n        setWorkStart,\r\n        setWorkFinish,\r\n        handleChange,\r\n        handleSubmit,\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default withRouter(EmployeeForm);\r\n","import { IEmployerErrors, IEmployer } from '../../interfaces';\r\n\r\nexport const isNumeric = /^\\d+$/;\r\n\r\nexport function validateInput(formValues: IEmployer) {\r\n  let errors: IEmployerErrors = {};\r\n  const { vat, name, ame, smsNumber } = formValues;\r\n\r\n  // vat\r\n  if (!vat) errors.vat = 'Προσθέστε ΑΦΜ';\r\n  if (vat && !isNumeric.test(vat)) errors.vat = 'Ο ΑΦΜ αποτελείται μόνο απο αριθμούς';\r\n  if (vat && vat.length !== 9) errors.vat = 'Ο ΑΦΜ αποτελείται από 9 αριθμούς';\r\n\r\n  // ame\r\n  if (ame && !isNumeric.test(ame)) errors.ame = 'Ο ΑΜΕ αποτελείται μόνο απο αριθμούς';\r\n  if (ame && ame.length !== 10) errors.ame = 'Ο ΑΦΜ αποτελείται από 10 αριθμούς';\r\n\r\n  // name\r\n  if (!name) errors.name = 'Προσθέστε ονοματεπώνυμο';\r\n  if (name && name.length > 255) errors.name = 'Προσθέστε λιγότερους χαρακτήρες';\r\n\r\n  // smsNumber\r\n  if (!smsNumber) errors.smsNumber = 'Προσθέστε αριθμό αποστολής';\r\n  if (smsNumber && !isNumeric.test(smsNumber))\r\n    errors.smsNumber = 'Εισάγετε μόνο αριθμούς';\r\n  if (smsNumber && smsNumber.length > 10)\r\n    errors.smsNumber = 'Εισάγετε μέχρι 10 αριθμούς';\r\n\r\n  return errors;\r\n}\r\n","import React, { FC } from 'react';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListSubheader from '@material-ui/core/ListSubheader';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport AccountIcon from '@material-ui/icons/AccountCircle';\r\nimport WorkIcon from '@material-ui/icons/Work';\r\nimport InfoIcon from '@material-ui/icons/InfoOutlined';\r\nimport PhoneIcon from '@material-ui/icons/Phone';\r\nimport WorkTwoToneIcon from '@material-ui/icons/WorkOutline';\r\nimport { createStyles, withStyles, WithStyles } from '@material-ui/core/styles';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport { Theme } from '@material-ui/core/styles/createMuiTheme';\r\nimport { stickyTopWithAppbar } from '../../styles/mixins';\r\nimport { IEmployer, IEmployerErrors } from '../../interfaces';\r\nimport Button from '@material-ui/core/Button';\r\nimport { AppBar, FormToolbar } from '../../components/AppShell';\r\nimport { withRouter, RouteComponentProps } from 'react-router';\r\nimport Fade from '@material-ui/core/Fade';\r\nimport CenteredSpinner from '../../components/CenteredSpinner';\r\n\r\ninterface IProps extends WithStyles<typeof styles> {\r\n  onChange: (val: keyof IEmployer) => (e: any) => void;\r\n  onSubmit: (e: React.FormEvent) => void;\r\n  values: IEmployer;\r\n  errors: IEmployerErrors;\r\n  isLoading: boolean;\r\n}\r\n\r\nconst View: FC<IProps & RouteComponentProps> = props => {\r\n  const { classes, onChange, onSubmit, errors, values, history, isLoading } = props;\r\n  const variant = 'standard';\r\n\r\n  return (\r\n    <>\r\n      <AppBar>\r\n        <FormToolbar\r\n          onCancel={history.goBack}\r\n          onSubmit={onSubmit}\r\n          pageTitle=\"Ρυθμίσεις\"\r\n        />\r\n      </AppBar>\r\n      {isLoading && <CenteredSpinner />}\r\n      {!isLoading && (\r\n        <Fade in={!isLoading}>\r\n          <div>\r\n            <List\r\n              className={classes.list}\r\n              subheader={\r\n                <ListSubheader color=\"primary\" className={classes.listHeader}>\r\n                  Στοιχεία Εργοδότη\r\n                </ListSubheader>\r\n              }\r\n            >\r\n              <ListItem key=\"employer-name\">\r\n                <ListItemIcon>\r\n                  <AccountIcon />\r\n                </ListItemIcon>\r\n                <TextField\r\n                  value={values.name}\r\n                  onChange={onChange('name')}\r\n                  error={!!errors.name}\r\n                  label={errors.name || 'Ονοματεπώνυμο'}\r\n                  variant={variant}\r\n                  className={classes.textField}\r\n                />\r\n              </ListItem>\r\n              <ListItem key=\"employer-vat\">\r\n                <ListItemIcon>\r\n                  <WorkIcon />\r\n                </ListItemIcon>\r\n                <TextField\r\n                  value={values.vat}\r\n                  onChange={onChange('vat')}\r\n                  error={!!errors.vat}\r\n                  label={errors.vat || 'ΑΦΜ'}\r\n                  variant={variant}\r\n                  type=\"tel\"\r\n                  className={classes.textField}\r\n                />\r\n              </ListItem>\r\n              <ListItem key=\"employer-ame\">\r\n                <ListItemIcon>\r\n                  <WorkTwoToneIcon />\r\n                </ListItemIcon>\r\n                <TextField\r\n                  value={values.ame}\r\n                  onChange={onChange('ame')}\r\n                  error={!!errors.ame}\r\n                  label={errors.ame || 'ΑΜΕ (προαιρετικό)'}\r\n                  variant={variant}\r\n                  type=\"tel\"\r\n                  className={classes.textField}\r\n                />\r\n              </ListItem>\r\n            </List>\r\n            <List\r\n              className={classes.list}\r\n              subheader={\r\n                <ListSubheader color=\"primary\" className={classes.listHeader}>\r\n                  Επιλογές SMS\r\n                </ListSubheader>\r\n              }\r\n            >\r\n              <ListItem key=\"sms-number\">\r\n                <ListItemIcon>\r\n                  <PhoneIcon />\r\n                </ListItemIcon>\r\n                <TextField\r\n                  value={values.smsNumber}\r\n                  onChange={onChange('smsNumber')}\r\n                  error={!!errors.smsNumber}\r\n                  label={errors.smsNumber || 'Αριθμός Παραλήπτη'}\r\n                  variant={variant}\r\n                  type=\"tel\"\r\n                  className={classes.textField}\r\n                />\r\n              </ListItem>\r\n              <div className={classes.infoTileWrapper}>\r\n                <ListItem key=\"info\" dense className={classes.infoTile}>\r\n                  <ListItemIcon>\r\n                    <InfoIcon color=\"primary\" />\r\n                  </ListItemIcon>\r\n                  <ListItemText primary=\"Για την υποβολή αίτησης Ε8 με SMS, τα μηνύματα αποστέλλονται στον αριθμό 54001.\" />\r\n                </ListItem>\r\n              </div>\r\n            </List>\r\n          </div>\r\n        </Fade>\r\n      )}\r\n    </>\r\n  );\r\n};\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    list: {\r\n      width: '100%',\r\n      maxWidth: 600,\r\n      '&:not(:first-child)': {\r\n        marginTop: '2rem',\r\n      },\r\n    },\r\n    listHeader: {\r\n      backgroundColor: theme.palette.background.default,\r\n      ...stickyTopWithAppbar,\r\n    },\r\n    textField: {\r\n      width: '100%',\r\n    },\r\n    infoTileWrapper: {\r\n      paddingLeft: theme.spacing.unit,\r\n      paddingRight: theme.spacing.unit,\r\n    },\r\n    infoTile: {\r\n      border: `1px solid ${theme.palette.divider}`,\r\n      borderRadius: theme.spacing.unit,\r\n    },\r\n  });\r\n\r\nexport default withStyles(styles)(withRouter(View));\r\n","import React, { FC, useState, ChangeEvent, useEffect } from 'react';\r\nimport { IEmployer, IEmployerErrors } from '../../interfaces';\r\nimport { isNumeric, validateInput } from './validation';\r\nimport View from './View';\r\nimport dexieDb from '../../db/db';\r\nimport { RouteComponentProps } from 'react-router';\r\n\r\nconst EmployerForm: FC<RouteComponentProps> = props => {\r\n  const { history } = props;\r\n  const initialValues = {\r\n    name: '',\r\n    vat: '',\r\n    ame: '',\r\n    smsNumber: '',\r\n  };\r\n  const [values, setValues] = useState<IEmployer>(initialValues);\r\n  const [isLoading, setIsLoading] = useState<boolean>(true);\r\n  useEffect(() => {\r\n    async function fetchEmployer() {\r\n      let employer;\r\n      try {\r\n        employer = await dexieDb.employer.toCollection().last();\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n      setIsLoading(false);\r\n      setValues(employer || initialValues);\r\n    }\r\n    fetchEmployer();\r\n  }, []);\r\n\r\n  const [errors, setErrors] = useState<IEmployerErrors>({});\r\n\r\n  const handleChange = (val: keyof IEmployer) => (e: ChangeEvent<HTMLInputElement>) => {\r\n    const { value } = e.target;\r\n\r\n    // Clear a field's error when the user starts typing in it.\r\n    const clearedErrors = { ...errors, [val]: undefined };\r\n    setErrors(clearedErrors);\r\n\r\n    // Input guard.\r\n    switch (val) {\r\n      case 'vat':\r\n        if (!isNumeric.test(value) && value !== '') return;\r\n        if (value.length > 9) return;\r\n        break;\r\n      case 'smsNumber':\r\n      case 'ame':\r\n        if (!isNumeric.test(value) && value !== '') return;\r\n        if (value.length > 10) return;\r\n        break;\r\n      case 'name':\r\n        if (value.length > 255) return;\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n\r\n    const newValues = { ...values, [val]: value };\r\n    setValues(newValues);\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    const validationErrors = validateInput(values);\r\n\r\n    // Display error messages, if any.\r\n    setErrors(validationErrors);\r\n\r\n    // If validationErrors contains any errors, prevent submition\r\n    if (!!Object.values(validationErrors).reduce((acc, val) => acc + val, ''))\r\n      return console.log(validationErrors);\r\n\r\n    // Submit\r\n    try {\r\n      await dexieDb.employer.put(values);\r\n      return history.goBack();\r\n    } catch (error) {\r\n      return console.log(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <View\r\n      onChange={handleChange}\r\n      onSubmit={handleSubmit}\r\n      values={values}\r\n      errors={errors}\r\n      isLoading={isLoading}\r\n    />\r\n  );\r\n};\r\n\r\nexport default EmployerForm;\r\n","import React, { FC, useState } from 'react';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport Collapse from '@material-ui/core/Collapse';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { withStyles, createStyles, WithStyles, Theme } from '@material-ui/core/styles';\r\n\r\ninterface IProps extends WithStyles<typeof styles> {}\r\nconst CancelSubmitionInfoCard: FC<IProps> = props => {\r\n  const [expanded, toggleExpand] = useState(false);\r\n  const handleExpand = () => toggleExpand(!expanded);\r\n  return (\r\n    <Card className={props.classes.formControl}>\r\n      <CardContent>\r\n        <Typography\r\n          className={props.classes.smallHeader}\r\n          color=\"textSecondary\"\r\n          gutterBottom\r\n        >\r\n          Ακύρωση τελευταίας υποβολής\r\n        </Typography>\r\n        <Typography color=\"textPrimary\" gutterBottom align=\"left\">\r\n          Αυτή η επιλογή αντικαθιστά τις ώρες υπερωρίας με τον αριθμό μηδέν (0) στο\r\n          μήνυμα που θα αποσταλεί.\r\n        </Typography>\r\n\r\n        <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\r\n          <Typography paragraph align=\"left\">\r\n            Πρόκειται για αναίρεση προηγηθείσας υποβολής απασχολούμενου, πριν η δηλωθείσα\r\n            υπερεργασία ή νόμιμη υπερωριακή απασχόληση αρχίσει να πραγματοποιείται. Σε\r\n            αυτήν την περίπτωση, τα πεδία ώρας μηδενίζονται. Απαραίτητη προϋπόθεση για\r\n            την υποβολή ακύρωσης είναι να υφίσταται προηγούμενη υποβολή για τον ίδιο\r\n            απασχολούμενο με Ημερομηνία και Ώρα Έναρξης της υπερεργασίας μεταγενέστερη\r\n            της Ημερομηνίας –Ώρας υποβολής της ακύρωσης.\r\n          </Typography>\r\n        </Collapse>\r\n        <CardActions className={props.classes.actions}>\r\n          <Button color=\"primary\" onClick={handleExpand}>\r\n            {expanded ? 'Λιγοτερα' : 'Περισσοτερα'}\r\n          </Button>\r\n        </CardActions>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n};\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    formControl: {\r\n      margin: theme.spacing.unit * 2,\r\n      display: 'block',\r\n    },\r\n\r\n    smallHeader: {\r\n      fontSize: '1rem',\r\n    },\r\n    actions: {\r\n      display: 'flex',\r\n      justifyContent: 'flex-end',\r\n    },\r\n  });\r\n\r\nexport default withStyles(styles)(CancelSubmitionInfoCard);\r\n","import React, { useEffect, useState } from 'react';\r\nimport Chip from '@material-ui/core/Chip';\r\nimport Button from '@material-ui/core/Button';\r\nimport SendIcon from '@material-ui/icons/Send';\r\nimport FileCopyIcon from '@material-ui/icons/FileCopyOutlined';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport { withStyles, createStyles, WithStyles, Theme } from '@material-ui/core/styles';\r\nimport { IEmployer } from '../../interfaces';\r\nimport { IEmployeeErrors } from '../../interfaces/IEmployeeErrors';\r\n\r\ninterface IProps extends WithStyles<typeof styles> {\r\n  message: string;\r\n  isNewSubmition?: boolean;\r\n  handleSubmitSms: any;\r\n  isError: boolean;\r\n  employer: IEmployer;\r\n}\r\n\r\nfunction BottomMessageTile(props: IProps) {\r\n  const copyToClipboard = async () => {\r\n    try {\r\n      await navigator.clipboard.writeText(props.message);\r\n      alert('Το μήνυμα αντιγράφηκε!');\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n  };\r\n  const { message, classes, isNewSubmition, isError } = props;\r\n\r\n  const getColor = () => {\r\n    if (isError) return 'disabled';\r\n    if (isNewSubmition) return 'primary';\r\n    return 'secondary';\r\n  };\r\n\r\n  return (\r\n    <Paper className={classes.messageTile}>\r\n      <Button\r\n        onClick={navigator.clipboard && copyToClipboard}\r\n        className={classes.messageContainer}\r\n      >\r\n        <Typography className={classes.erganiCode}>{props.message}</Typography>\r\n        <FileCopyIcon className={classes.fileButton} color=\"primary\" fontSize=\"small\" />\r\n      </Button>\r\n\r\n      <IconButton\r\n        className={classes.sendButton}\r\n        onClick={props.handleSubmitSms}\r\n        disabled={isError}\r\n        component={aProps => (\r\n          <a\r\n            href={`sms:${props.employer.smsNumber}?body=${props.message}`}\r\n            {...aProps}\r\n          />\r\n        )}\r\n      >\r\n        <SendIcon color={getColor()} fontSize=\"large\" />\r\n      </IconButton>\r\n    </Paper>\r\n  );\r\n}\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    messageTile: {\r\n      // Position\r\n      position: 'fixed',\r\n      bottom: 0,\r\n      left: 0,\r\n      right: 0,\r\n\r\n      // Styles\r\n      paddingLeft: theme.spacing.unit,\r\n      paddingRight: 0,\r\n\r\n      // Flex\r\n      display: 'flex',\r\n      justifyContent: 'stretch',\r\n      alignItems: 'center',\r\n    },\r\n    sendButton: {\r\n      margin: theme.spacing.unit / 2,\r\n      padding: theme.spacing.unit,\r\n    },\r\n    fileButton: {\r\n      marginLeft: theme.spacing.unit,\r\n    },\r\n    erganiCode: {\r\n      overflowX: 'auto',\r\n      whiteSpace: 'nowrap',\r\n    },\r\n    messageContainer: {\r\n      // Flex\r\n      width: '100%',\r\n      display: 'flex',\r\n      justifyContent: 'space-between',\r\n      alignItems: 'center',\r\n\r\n      // Styles\r\n      padding: theme.spacing.unit,\r\n      backgroundColor: theme.palette.grey[300],\r\n      borderRadius: 50,\r\n    },\r\n  });\r\n\r\nexport default withStyles(styles)(BottomMessageTile);\r\n","import React, { FC } from 'react';\r\nimport { withStyles, createStyles, WithStyles, Theme } from '@material-ui/core/styles';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormLabel from '@material-ui/core/FormLabel';\r\nimport Chip from '@material-ui/core/Chip';\r\nimport WorkHourPicker from '../../components/WorkHourPicker';\r\n\r\ninterface IProps extends WithStyles<typeof styles> {\r\n  durationLabel: any;\r\n  handleChangeDuration: any;\r\n  overtimeStart: any;\r\n  overtimeFinish: any;\r\n  handleChangeOvertimeStart: any;\r\n  handleChangeOvertimeFinish: any;\r\n  durationOptions: any[];\r\n}\r\n\r\nconst NewSubmition: FC<IProps> = props => {\r\n  const {\r\n    classes,\r\n    durationLabel,\r\n    handleChangeDuration,\r\n    overtimeStart,\r\n    overtimeFinish,\r\n    handleChangeOvertimeStart,\r\n    handleChangeOvertimeFinish,\r\n    durationOptions,\r\n  } = props;\r\n\r\n  return (\r\n    <>\r\n      <FormControl className={`${classes.formControl} `}>\r\n        <FormLabel>Διάρκεια υπερωρίας</FormLabel>\r\n        <div className={classes.chipsForm}>\r\n          {durationOptions.map(option => (\r\n            <Chip\r\n              className={classes.chip}\r\n              key={option.key}\r\n              color=\"primary\"\r\n              label={option.label}\r\n              onClick={handleChangeDuration(option.duration)}\r\n              variant={durationLabel === option.label ? 'default' : 'outlined'}\r\n            />\r\n          ))}\r\n        </div>\r\n        <WorkHourPicker\r\n          labelStart=\"Ώρα έναρξης\"\r\n          labelFinish=\"Ώρα λήξης\"\r\n          valueStart={overtimeStart}\r\n          valueFinish={overtimeFinish}\r\n          onChangeStart={handleChangeOvertimeStart}\r\n          onChangeFinish={handleChangeOvertimeFinish}\r\n        />\r\n      </FormControl>\r\n    </>\r\n  );\r\n};\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    formControl: {\r\n      margin: theme.spacing.unit * 2,\r\n      display: 'block',\r\n    },\r\n    chip: {\r\n      margin: theme.spacing.unit,\r\n      fontSize: '1rem',\r\n    },\r\n    chipsForm: {\r\n      display: 'flex',\r\n      flexWrap: 'wrap',\r\n      marginTop: theme.spacing.unit,\r\n    },\r\n  });\r\n\r\nexport default withStyles(styles)(NewSubmition);\r\n","import React, { FC, useState, useEffect } from 'react';\r\nimport { withStyles, createStyles, WithStyles, Theme } from '@material-ui/core/styles';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormLabel from '@material-ui/core/FormLabel';\r\nimport CancelSubmitionInfoCard from './CancelSubmitionInfoCard';\r\nimport ExpandableListTile from '../../components/ExpandableListTile';\r\nimport BottomMessageTile from './BottomMessageTile';\r\nimport Slide from '@material-ui/core/Slide';\r\nimport Fade from '@material-ui/core/Fade';\r\nimport NewSubmition from './NewSubmition';\r\nimport { DeadEndToolbar, AppBar } from '../../components/AppShell';\r\nimport { IEmployer } from '../../interfaces';\r\nimport CenteredSpinner from '../../components/CenteredSpinner';\r\nimport { Typography } from '@material-ui/core';\r\nimport NotFound from '../../components/NotFound';\r\nimport { routes } from '../../routes';\r\nimport { Link } from 'react-router-dom';\r\nimport Button from '@material-ui/core/Button';\r\n\r\ninterface IProps extends WithStyles<typeof styles> {\r\n  errors: { overtimeStart: string; overtimeFinish: string };\r\n  durationLabel: any;\r\n  handleChangeDuration: any;\r\n  overtimeStart: any;\r\n  overtimeFinish: any;\r\n  handleChangeOvertimeStart: any;\r\n  handleChangeOvertimeFinish: any;\r\n  employee: any;\r\n  submitionType: any;\r\n  selectSubmitionType: any;\r\n  durationOptions: any[];\r\n  erganiCode: string;\r\n  onGoBack?: (e: any) => void;\r\n  handleSubmitSms: any;\r\n  employer: IEmployer;\r\n  isFetchingEmployee: boolean;\r\n  isFetchingEmployer: boolean;\r\n}\r\n\r\nconst E8FormView: FC<IProps> = props => {\r\n  const {\r\n    classes,\r\n    durationLabel,\r\n    handleChangeDuration,\r\n    overtimeStart,\r\n    overtimeFinish,\r\n    handleChangeOvertimeStart,\r\n    handleChangeOvertimeFinish,\r\n    employee,\r\n    submitionType,\r\n    selectSubmitionType,\r\n    durationOptions,\r\n    onGoBack,\r\n    erganiCode,\r\n    handleSubmitSms,\r\n    errors,\r\n    employer,\r\n    isFetchingEmployee,\r\n    isFetchingEmployer,\r\n  } = props;\r\n\r\n  const [isError, setIsError] = useState();\r\n  useEffect(() => {\r\n    function setIsErrorOnErrorsChange() {\r\n      setIsError(!!Object.values(errors).reduce((acc, val) => acc + val, ''));\r\n    }\r\n    setIsErrorOnErrorsChange();\r\n  }, [errors]);\r\n\r\n  return (\r\n    <>\r\n      <AppBar>\r\n        <DeadEndToolbar pageTitle=\"Έντυπο Ε8\" onGoBack={onGoBack} />\r\n      </AppBar>\r\n      {(isFetchingEmployee || isFetchingEmployer) && <CenteredSpinner />}\r\n      <Fade in={!isFetchingEmployee && !isFetchingEmployer}>\r\n        <div>\r\n          {!employee && (\r\n            <NotFound\r\n              icon=\"sadface\"\r\n              message=\"Δεν βρέθηκε ο υπάλληλος με αυτά τα στοιχεία\"\r\n            />\r\n          )}\r\n          {!employer && (\r\n            <NotFound\r\n              icon=\"settings\"\r\n              message=\"Προσθέστε τα στοιχεία εργοδότη για να συμπληρωθεί το έντυπο Ε8\"\r\n            >\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                className={classes.addSettingsButton}\r\n                component={props => <Link to={routes.EMPLOYER_FORM} {...props} />}\r\n              >\r\n                ΠΡΟΣΘΗΚΗ\r\n              </Button>\r\n            </NotFound>\r\n          )}\r\n          {employee && employer && (\r\n            <div>\r\n              <section className={classes.section}>\r\n                <ExpandableListTile employee={employee} divider button />\r\n\r\n                <FormControl className={classes.formControl}>\r\n                  <FormLabel>Τύπος υποβολής</FormLabel>\r\n                  <RadioGroup\r\n                    aria-label=\"Submition type\"\r\n                    name=\"submitionType\"\r\n                    value={submitionType}\r\n                    onChange={selectSubmitionType}\r\n                  >\r\n                    <FormControlLabel\r\n                      value=\"submitNew\"\r\n                      control={<Radio />}\r\n                      label=\"Νέα υποβολή\"\r\n                    />\r\n                    <FormControlLabel\r\n                      value=\"submitCancelPrevious\"\r\n                      control={<Radio />}\r\n                      label=\"Ακύρωση τελευταίας υποβολής\"\r\n                    />\r\n                  </RadioGroup>\r\n                </FormControl>\r\n\r\n                {submitionType === 'submitNew' ? (\r\n                  <NewSubmition\r\n                    {...{\r\n                      classes,\r\n                      durationLabel,\r\n                      handleChangeDuration,\r\n                      overtimeStart,\r\n                      overtimeFinish,\r\n                      handleChangeOvertimeStart,\r\n                      handleChangeOvertimeFinish,\r\n                      durationOptions,\r\n                    }}\r\n                  />\r\n                ) : (\r\n                  <CancelSubmitionInfoCard />\r\n                )}\r\n                {isError && (\r\n                  <Typography>\r\n                    {errors.overtimeStart + '\\n' + errors.overtimeFinish}\r\n                  </Typography>\r\n                )}\r\n                <BottomMessageTile\r\n                  message={erganiCode}\r\n                  isNewSubmition={submitionType === 'submitNew'}\r\n                  {...{ handleSubmitSms, isError, employer }}\r\n                />\r\n              </section>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </Fade>\r\n    </>\r\n  );\r\n};\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    section: {\r\n      paddingBottom: theme.spacing.unit * 10,\r\n    },\r\n    formControl: {\r\n      margin: theme.spacing.unit * 2,\r\n      display: 'block',\r\n    },\r\n    addSettingsButton: {\r\n      width: '100%',\r\n      maxWidth: 400,\r\n    },\r\n  });\r\n\r\nexport default withStyles(styles)(E8FormView);\r\n","import { getMinutes, addMinutes } from 'date-fns';\r\n\r\nexport default function roundDateMinute(date: Date) {\r\n  const mins = getMinutes(date);\r\n  const roundedDate = addMinutes(date, 10 - (mins % 10));\r\n  return roundedDate;\r\n}\r\n","import React, { FC, useState, useEffect } from 'react';\r\nimport { IEmployee } from '../../interfaces/IEmployee';\r\nimport {\r\n  addMinutes,\r\n  isAfter,\r\n  isBefore,\r\n  differenceInMinutes,\r\n  format,\r\n  setMinutes,\r\n  getMinutes,\r\n  getHours,\r\n  setHours,\r\n} from 'date-fns';\r\nimport E8FormView from './E8FormView';\r\nimport { IEmployer } from '../../interfaces';\r\nimport dexieDb from '../../db/db';\r\nimport { RouteComponentProps } from 'react-router';\r\nimport roundDateMinute from '../../utils/roundDate';\r\n\r\nconst durationOptions = [\r\n  { key: 0, label: '30 λεπτά', duration: 30 },\r\n  { key: 1, label: '1 ώρα', duration: 60 },\r\n  { key: 2, label: '1 ώρα, 30 λεπτά', duration: 90 },\r\n  { key: 3, label: '2 ώρες', duration: 120 },\r\n  { key: 4, label: '2 ώρες, 30 λεπτά', duration: 150 },\r\n  { key: 5, label: '3 ώρες', duration: 180 },\r\n  // { key: 6, label: 'Άλλο...' },\r\n];\r\ninterface IMatchParams {\r\n  employeeID?: string;\r\n}\r\nconst E8Form: FC<RouteComponentProps<IMatchParams>> = props => {\r\n  const {\r\n    match: {\r\n      params: { employeeID },\r\n    },\r\n    history,\r\n  } = props;\r\n\r\n  const [employer, setEmployer] = useState();\r\n  const [employee, setEmployee] = useState();\r\n  const [isFetchingEmployee, setIsFetchingEmployee] = useState(true);\r\n  const [isFetchingEmployer, setIsFetchingEmployer] = useState(true);\r\n\r\n  const [overtimeStart, setOvertimeStart] = useState(roundDateMinute(new Date()));\r\n  const [overtimeFinish, setOvertimeFinish] = useState(addMinutes(overtimeStart, 30));\r\n\r\n  const [submitionType, setSubmitType] = useState('submitNew');\r\n  const selectSubmitionType = (e: any) => setSubmitType(e.target.value);\r\n\r\n  const [durationLabel, setDurationLabel] = useState(durationOptions[0].label);\r\n\r\n  const [errors, setErrors] = useState({\r\n    overtimeStart: '',\r\n    overtimeFinish: '',\r\n  });\r\n\r\n  useEffect(() => {\r\n    async function fetchEmployer() {\r\n      try {\r\n        const employer = await dexieDb.employer.toCollection().last();\r\n        setEmployer(employer);\r\n        setIsFetchingEmployer(false);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    }\r\n    fetchEmployer();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    async function fetchEmployee() {\r\n      if (!employeeID) return;\r\n\r\n      try {\r\n        const employee = await dexieDb.employee.get(parseInt(employeeID));\r\n        let employeeOvertimeStart;\r\n\r\n        if (employee) {\r\n          const workFinishHours = getHours(employee.workFinish);\r\n          const workFinishMinutes = getMinutes(employee.workFinish);\r\n\r\n          employeeOvertimeStart = setHours(\r\n            setMinutes(new Date(), workFinishMinutes),\r\n            workFinishHours,\r\n          );\r\n        }\r\n\r\n        let initialOvertimeStart: Date;\r\n        !employeeOvertimeStart || isAfter(new Date(), employeeOvertimeStart)\r\n          ? (initialOvertimeStart = roundDateMinute(new Date()))\r\n          : (initialOvertimeStart = employeeOvertimeStart);\r\n\r\n        setOvertimeStart(initialOvertimeStart);\r\n        setOvertimeFinish(addMinutes(initialOvertimeStart, 30));\r\n        setEmployee(employee);\r\n        setIsFetchingEmployee(false);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    }\r\n    fetchEmployee();\r\n  }, []);\r\n\r\n  const makeErganiCode = () => {\r\n    if (!employee) return '';\r\n    if (!employer) return '';\r\n    const data: string[] =\r\n      submitionType === 'submitNew'\r\n        ? [\r\n            'Υ1',\r\n            employer.vat + employer.ame || '',\r\n            employee.vat,\r\n            format(overtimeStart, 'HHmm') + format(overtimeFinish, 'HHmm'),\r\n          ]\r\n        : [employer.vat, employer.ame || '', employee.vat, '0000', '0000'];\r\n    return data.join(' ');\r\n  };\r\n\r\n  const handleChangeDuration = (duration?: number) => (event: any) => {\r\n    if (!duration) return; /* setDurationLabel(durationOptions[6].label); */\r\n\r\n    // find the durationOption\r\n    // store it to set the durationLabel in the next lines.\r\n    const durOpt = durationOptions.find(el => el.duration === duration);\r\n    if (!durOpt) return;\r\n\r\n    setDurationLabel(durOpt.label);\r\n\r\n    // with validate()\r\n    // handleChangeOvertimeFinish(addMinutes(overtimeStart, duration));\r\n\r\n    // without validate()\r\n    setOvertimeFinish(addMinutes(overtimeStart, duration));\r\n  };\r\n  const handleChangeOvertimeStart = (date: Date) => {\r\n    setOvertimeStart(date);\r\n    setErrors(validate());\r\n    setDurationLabel('');\r\n  };\r\n  const handleChangeOvertimeFinish = (date: Date) => {\r\n    setOvertimeFinish(date);\r\n    setErrors(validate());\r\n    setDurationLabel('');\r\n  };\r\n\r\n  const validate = () => {\r\n    let currentErrors = { overtimeStart: '', overtimeFinish: '' };\r\n\r\n    // overtimeStart > overtimeFinish\r\n    if (isAfter(overtimeStart, overtimeFinish))\r\n      currentErrors.overtimeStart =\r\n        'Η έναρξη της υπερωρίας πρέπει να είναι μετά την λήξη';\r\n\r\n    // overtimeStart < employee.workFinish\r\n    // if (isAfter())\r\n    //   currentErrors.overtimeStart =\r\n    //     'Η έναρξη της υπερωρίας πρέπει να είναι μετά τη λήξη της εργασίας';\r\n\r\n    // overtimeStart  > Date.now ==> is Date.now() after overtimeStart ?\r\n    if (isAfter(Date.now(), overtimeStart))\r\n      currentErrors.overtimeStart =\r\n        'Η υποβολή της δήλωσης πρέπει να γίνεται πρίν την έναρξη της υπερωρίας.';\r\n\r\n    // overtimeFinish - overtimeStart > 180 minutes\r\n    if (differenceInMinutes(overtimeFinish, overtimeStart) > 180)\r\n      currentErrors.overtimeFinish =\r\n        'Η διάρκια της υπερωρίας δεν μπορεί να υπερβαίνει τις 3 ώρες';\r\n\r\n    return currentErrors;\r\n  };\r\n\r\n  const handleSubmitSms = async () => {\r\n    if (!employee) return;\r\n\r\n    validate();\r\n\r\n    if (!!Object.values(errors).reduce((acc, val) => acc + val, ''))\r\n      return console.log(errors);\r\n\r\n    try {\r\n      await dexieDb.sms.put({\r\n        employee,\r\n        overtimeStart,\r\n        overtimeFinish,\r\n        approved: true,\r\n        dateSent: new Date(),\r\n      });\r\n      history.goBack();\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <E8FormView\r\n      onGoBack={history.goBack}\r\n      erganiCode={makeErganiCode()}\r\n      {...{\r\n        errors,\r\n        durationLabel,\r\n        handleChangeDuration,\r\n        overtimeStart,\r\n        overtimeFinish,\r\n        handleChangeOvertimeStart,\r\n        handleChangeOvertimeFinish,\r\n        employee,\r\n        submitionType,\r\n        selectSubmitionType,\r\n        durationOptions,\r\n        handleSubmitSms,\r\n        employer,\r\n        isFetchingEmployee,\r\n        isFetchingEmployer,\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default E8Form;\r\n","import React, { useState, useEffect } from 'react';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport './App.css';\r\nimport { MuiPickersUtilsProvider } from 'material-ui-pickers';\r\nimport MuiThemeProvider from '@material-ui/core/styles/MuiThemeProvider';\r\nimport createMuiTheme from '@material-ui/core/styles/createMuiTheme';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport { BrowserRouter as Router, Route, Redirect, Switch } from 'react-router-dom';\r\nimport SmsLog from './screens/SmsLog';\r\nimport EmployeeList from './screens/EmployeeList';\r\nimport EmployeeInfo from './screens/EmployeeInfo';\r\nimport EmployeeForm from './screens/EmployeeForm';\r\nimport EmployerForm from './screens/EmployerForm';\r\nimport E8Form from './screens/E8Form';\r\nimport { IEmployee, IE8Sms, IEmployer, IE8Form } from './interfaces';\r\nimport db from './db/db';\r\nimport { routes } from './routes';\r\n\r\nconst theme = createMuiTheme({\r\n  typography: {\r\n    useNextVariants: true,\r\n  },\r\n});\r\nfunction App() {\r\n  return (\r\n    <>\r\n      <MuiThemeProvider theme={theme}>\r\n        <CssBaseline />\r\n        <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n          <Router basename=\"/subito-webapp\">\r\n            <div className=\"App\">\r\n              <Switch>\r\n                <Route path={routes.EMPLOYEE_LIST} component={EmployeeList} />\r\n                <Route path=\"/smsLog/\" component={SmsLog} />\r\n                <Route\r\n                  path={`${routes.EMPLOYEE_INFO}/:employeeID`}\r\n                  component={EmployeeInfo}\r\n                />\r\n                <Route\r\n                  path={`${routes.EMPLOYEE_FORM}/:employeeID`}\r\n                  component={EmployeeForm}\r\n                />\r\n                <Route path={routes.EMPLOYEE_FORM} component={EmployeeForm} />\r\n                <Route path=\"/employerForm/\" component={EmployerForm} />\r\n                <Route path=\"/e8Form/:employeeID\" component={E8Form} />\r\n                <Redirect to=\"/employeeList\" />\r\n              </Switch>\r\n            </div>\r\n          </Router>\r\n        </MuiPickersUtilsProvider>\r\n      </MuiThemeProvider>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.register();\r\n"],"sourceRoot":""}